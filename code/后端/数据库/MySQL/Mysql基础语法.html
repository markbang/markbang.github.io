<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初识数据库 | 🤡😡</title>
    <meta name="description" content="一个小白友好的教程网站">
    <link rel="preload stylesheet" href="/assets/style.35055f63.css" as="style">
    
    <script type="module" src="/assets/app.31c10bd5.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.d084db19.js">
    <link rel="modulepreload" href="/assets/chunks/theme.478d108d.js">
    <link rel="modulepreload" href="/assets/code_后端_数据库_MySQL_Mysql基础语法.md.aaaae7eb.lean.js">
    <link rel="icon" href="/favicon.ico">
    <script>window.va=window.va||function(){(window.vaq=window.vaq||[]).push(arguments)};</script>
    <script defer src="/_vercel/insights/script.js"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-ead8783a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-5a3c120a></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-5a3c120a> Skip to content </a><!--]--><!----><header class="VPNav" data-v-ead8783a data-v-d182e97e><div class="VPNavBar has-sidebar" data-v-d182e97e data-v-ee726c27><div class="container" data-v-ee726c27><div class="title" data-v-ee726c27><div class="VPNavBarTitle has-sidebar" data-v-ee726c27 data-v-26c6fcd9><a class="title" href="/" data-v-26c6fcd9><!--[--><!--]--><!--[--><img class="VPImage logo" src="/site.png" alt data-v-96870ae9><!--]--><!--[-->🤡😡<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-ee726c27><div class="curtain" data-v-ee726c27></div><div class="content-body" data-v-ee726c27><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ee726c27><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ee726c27 data-v-eb4fe12f><span id="main-nav-aria-label" class="visually-hidden" data-v-eb4fe12f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/index.html" tabindex="0" data-v-eb4fe12f data-v-07434aa7><!--[--><span data-v-07434aa7>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/software/" tabindex="0" data-v-eb4fe12f data-v-07434aa7><!--[--><span data-v-07434aa7>软件</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/environment/" tabindex="0" data-v-eb4fe12f data-v-07434aa7><!--[--><span data-v-07434aa7>环境</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-eb4fe12f data-v-c39a23a5><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-c39a23a5><span class="text" data-v-c39a23a5><!----><span data-v-c39a23a5>编程手册</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-c39a23a5><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-c39a23a5><div class="VPMenu" data-v-c39a23a5 data-v-90bad10f><div class="items" data-v-90bad10f><!--[--><!--[--><div class="VPMenuGroup" data-v-90bad10f data-v-b45fabaa><!----><!--[--><!--[--><div class="VPMenuLink" data-v-b45fabaa data-v-eeafb68d><a class="VPLink link" href="/code/前端/" data-v-eeafb68d><!--[-->前端<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b45fabaa data-v-eeafb68d><a class="VPLink link" href="/code/后端/" data-v-eeafb68d><!--[-->后端<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b45fabaa data-v-eeafb68d><a class="VPLink link" href="/code/算法/" data-v-eeafb68d><!--[-->算法<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-90bad10f data-v-b45fabaa><!----><!--[--><!--[--><div class="VPMenuLink" data-v-b45fabaa data-v-eeafb68d><a class="VPLink link" href="/code/" data-v-eeafb68d><!--[-->其他<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/yrzx/" tabindex="0" data-v-eb4fe12f data-v-07434aa7><!--[--><span data-v-07434aa7>一人之下</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-eb4fe12f data-v-c39a23a5><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-c39a23a5><span class="text" data-v-c39a23a5><!----><span data-v-c39a23a5>关于</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-c39a23a5><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-c39a23a5><div class="VPMenu" data-v-c39a23a5 data-v-90bad10f><div class="items" data-v-90bad10f><!--[--><!--[--><div class="VPMenuGroup" data-v-90bad10f data-v-b45fabaa><!----><!--[--><!--[--><div class="VPMenuLink" data-v-b45fabaa data-v-eeafb68d><a class="VPLink link" href="/about/site.html" data-v-eeafb68d><!--[-->关于本站<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-90bad10f data-v-b45fabaa><!----><!--[--><!--[--><div class="VPMenuLink" data-v-b45fabaa data-v-eeafb68d><a class="VPLink link" href="/about/author.html" data-v-eeafb68d><!--[-->关于作者<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ee726c27 data-v-d9dd3660><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-d9dd3660 data-v-1c8d2a2f data-v-ecda2fa5><span class="check" data-v-ecda2fa5><span class="icon" data-v-ecda2fa5><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1c8d2a2f><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1c8d2a2f><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ee726c27 data-v-a3687661 data-v-14abc241><!--[--><a class="VPSocialLink no-icon" href="https://github.com/markbang" aria-label="github" target="_blank" rel="noopener" data-v-14abc241 data-v-0f11e5d0><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://gitee.com/bang-wu" aria-label target="_blank" rel="noopener" data-v-14abc241 data-v-0f11e5d0><svg t="1695392630717" class="icon" viewBox="0 0 1242 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5198" width="200" height="200"><path d="M623.55768887-34.13333333c-301.68533333 0-546.13333333 244.448-546.13333333 546.13333333s244.448 546.13333333 546.13333333 546.13333333 546.13333333-244.448 546.13333334-546.13333333-244.44693333-546.13333333-546.13333334-546.13333333zM472.38542221 689.42933334h249.94026666c43.50613333 0 78.88213333-35.26506667 78.88213334-78.88106667v-13.07413335c0-14.50239999-11.75466668-26.368-26.368-26.368H590.70968887a26.30400001 26.30400001 0 0 1-26.368-26.36693332v-65.69813333a26.30400001 26.30400001 0 0 1 26.368-26.368h302.45546667c14.50239999 0 26.368 11.75573333 26.368 26.368v151.17226666c0 98.1088-79.54133333 177.54026666-177.54133333 177.54026667H353.95235554c-14.50239999 0-26.368-11.75466668-26.368-26.368V413.344c0-108.87573333 88.33066667-197.2064 197.20533333-197.2064h368.37333334a26.30400001 26.30400001 0 0 1 26.368 26.368l-0.10986667 65.69813333a26.30400001 26.30400001 0 0 1-26.368 26.368H524.90168887c-43.50613333 0-78.88213333 35.26506667-78.88213333 78.88106666v249.8304c0 14.39253333 11.75466668 26.14826667 26.36693333 26.14826668z" p-id="5199"></path></svg></a><a class="VPSocialLink no-icon" href="https://www.cnblogs.com/bangwu/" aria-label target="_blank" rel="noopener" data-v-14abc241 data-v-0f11e5d0><svg t="1695391570251" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4216" data-spm-anchor-id="a313x.search_index.0.i3.36cd3a81cjRuXJ" width="200" height="200"><path d="M851.40363594 172.59636406c-187.46181844-187.46181844-491.34545437-187.46181844-678.80727188 0-187.46181844 187.46181844-187.46181844 491.34545437 0 678.80727188 187.46181844 187.46181844 491.34545437 187.46181844 678.80727188 0 187.46181844-187.46181844 187.46181844-491.34545437 0-678.80727188zM387.33090875 728.08727281a47.08363594 47.08363594 0 1 1-66.63272719-66.50181843 47.08363594 47.08363594 0 0 1 66.63272719 66.50181843z m205.52727281 1.39636313a38.74909125 38.74909125 0 0 1-76.62545437-11.52h-0.04363594a6.54545437 6.54545437 0 0 0-0.04363688 0.30545531v-0.34909125c0.30545438-2.61818156 2.05090875-20.72727281-2.96727281-44.98909125a174.24 174.24 0 0 0-48.56727281-89.28 172.10181844 172.10181844 0 0 0-88.8-48.30545438 156.69818156 156.69818156 0 0 0-42.45818156-2.92363593 38.66181844 38.66181844 0 0 1-35.38909125-65.32363688 38.61818156 38.61818156 0 0 1 21.12-10.8218175v-0.2181825c4.45090875-0.74181844 111.14181844-16.45090875 200.33454562 72.74181844 89.01818156 89.01818156 74.18181844 196.14545438 73.44 200.72727281z m175.2 7.59272812a38.74909125 38.74909125 0 0 1-65.67272719 21.3818175 39.49090875 39.49090875 0 0 1-11.65090875-33.73090875c0.08727281-0.34909125 5.10545437-37.48363594-5.06181843-88.97454562-13.30909125-67.37454562-45.29454563-126.89454563-94.95272719-176.90181844-50.00727281-49.70181844-109.52727281-81.64363594-176.94545438-94.95272719-51.49090875-10.16727281-88.58181844-5.19272719-89.01818156-5.14909031h0.21818156-0.04363687a39.92727281 39.92727281 0 0 1-44.68363594-32.90181844 38.83636406 38.83636406 0 0 1 32.20363594-44.37818156c1.92-0.30545438 47.86909125-7.33090875 111.27272719 4.36363594a411.75272719 411.75272719 0 0 1 106.25454562 34.95272718 425.76 425.76 0 0 1 114.63272719 82.25454563l0.91636406 0.96 0.96 0.87272719a425.89090875 425.89090875 0 0 1 82.25454563 114.72c16.40727281 33.6 28.14545437 69.29454562 34.99636312 106.21090875 11.65090875 63.40363594 4.66909125 109.35272719 4.32 111.27272812z" fill="#515151" p-id="4217" data-spm-anchor-id="a313x.search_index.0.i1.36cd3a81cjRuXJ"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ee726c27 data-v-d31de7a9 data-v-c39a23a5><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-c39a23a5><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-c39a23a5><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-c39a23a5><div class="VPMenu" data-v-c39a23a5 data-v-90bad10f><!----><!--[--><!--[--><!----><div class="group" data-v-d31de7a9><div class="item appearance" data-v-d31de7a9><p class="label" data-v-d31de7a9>Appearance</p><div class="appearance-action" data-v-d31de7a9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-d31de7a9 data-v-1c8d2a2f data-v-ecda2fa5><span class="check" data-v-ecda2fa5><span class="icon" data-v-ecda2fa5><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1c8d2a2f><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1c8d2a2f><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-d31de7a9><div class="item social-links" data-v-d31de7a9><div class="VPSocialLinks social-links-list" data-v-d31de7a9 data-v-14abc241><!--[--><a class="VPSocialLink no-icon" href="https://github.com/markbang" aria-label="github" target="_blank" rel="noopener" data-v-14abc241 data-v-0f11e5d0><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://gitee.com/bang-wu" aria-label target="_blank" rel="noopener" data-v-14abc241 data-v-0f11e5d0><svg t="1695392630717" class="icon" viewBox="0 0 1242 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5198" width="200" height="200"><path d="M623.55768887-34.13333333c-301.68533333 0-546.13333333 244.448-546.13333333 546.13333333s244.448 546.13333333 546.13333333 546.13333333 546.13333333-244.448 546.13333334-546.13333333-244.44693333-546.13333333-546.13333334-546.13333333zM472.38542221 689.42933334h249.94026666c43.50613333 0 78.88213333-35.26506667 78.88213334-78.88106667v-13.07413335c0-14.50239999-11.75466668-26.368-26.368-26.368H590.70968887a26.30400001 26.30400001 0 0 1-26.368-26.36693332v-65.69813333a26.30400001 26.30400001 0 0 1 26.368-26.368h302.45546667c14.50239999 0 26.368 11.75573333 26.368 26.368v151.17226666c0 98.1088-79.54133333 177.54026666-177.54133333 177.54026667H353.95235554c-14.50239999 0-26.368-11.75466668-26.368-26.368V413.344c0-108.87573333 88.33066667-197.2064 197.20533333-197.2064h368.37333334a26.30400001 26.30400001 0 0 1 26.368 26.368l-0.10986667 65.69813333a26.30400001 26.30400001 0 0 1-26.368 26.368H524.90168887c-43.50613333 0-78.88213333 35.26506667-78.88213333 78.88106666v249.8304c0 14.39253333 11.75466668 26.14826667 26.36693333 26.14826668z" p-id="5199"></path></svg></a><a class="VPSocialLink no-icon" href="https://www.cnblogs.com/bangwu/" aria-label target="_blank" rel="noopener" data-v-14abc241 data-v-0f11e5d0><svg t="1695391570251" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4216" data-spm-anchor-id="a313x.search_index.0.i3.36cd3a81cjRuXJ" width="200" height="200"><path d="M851.40363594 172.59636406c-187.46181844-187.46181844-491.34545437-187.46181844-678.80727188 0-187.46181844 187.46181844-187.46181844 491.34545437 0 678.80727188 187.46181844 187.46181844 491.34545437 187.46181844 678.80727188 0 187.46181844-187.46181844 187.46181844-491.34545437 0-678.80727188zM387.33090875 728.08727281a47.08363594 47.08363594 0 1 1-66.63272719-66.50181843 47.08363594 47.08363594 0 0 1 66.63272719 66.50181843z m205.52727281 1.39636313a38.74909125 38.74909125 0 0 1-76.62545437-11.52h-0.04363594a6.54545437 6.54545437 0 0 0-0.04363688 0.30545531v-0.34909125c0.30545438-2.61818156 2.05090875-20.72727281-2.96727281-44.98909125a174.24 174.24 0 0 0-48.56727281-89.28 172.10181844 172.10181844 0 0 0-88.8-48.30545438 156.69818156 156.69818156 0 0 0-42.45818156-2.92363593 38.66181844 38.66181844 0 0 1-35.38909125-65.32363688 38.61818156 38.61818156 0 0 1 21.12-10.8218175v-0.2181825c4.45090875-0.74181844 111.14181844-16.45090875 200.33454562 72.74181844 89.01818156 89.01818156 74.18181844 196.14545438 73.44 200.72727281z m175.2 7.59272812a38.74909125 38.74909125 0 0 1-65.67272719 21.3818175 39.49090875 39.49090875 0 0 1-11.65090875-33.73090875c0.08727281-0.34909125 5.10545437-37.48363594-5.06181843-88.97454562-13.30909125-67.37454562-45.29454563-126.89454563-94.95272719-176.90181844-50.00727281-49.70181844-109.52727281-81.64363594-176.94545438-94.95272719-51.49090875-10.16727281-88.58181844-5.19272719-89.01818156-5.14909031h0.21818156-0.04363687a39.92727281 39.92727281 0 0 1-44.68363594-32.90181844 38.83636406 38.83636406 0 0 1 32.20363594-44.37818156c1.92-0.30545438 47.86909125-7.33090875 111.27272719 4.36363594a411.75272719 411.75272719 0 0 1 106.25454562 34.95272718 425.76 425.76 0 0 1 114.63272719 82.25454563l0.91636406 0.96 0.96 0.87272719a425.89090875 425.89090875 0 0 1 82.25454563 114.72c16.40727281 33.6 28.14545437 69.29454562 34.99636312 106.21090875 11.65090875 63.40363594 4.66909125 109.35272719 4.32 111.27272812z" fill="#515151" p-id="4217" data-spm-anchor-id="a313x.search_index.0.i1.36cd3a81cjRuXJ"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ee726c27 data-v-3f42d902><span class="container" data-v-3f42d902><span class="top" data-v-3f42d902></span><span class="middle" data-v-3f42d902></span><span class="bottom" data-v-3f42d902></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-ead8783a data-v-401fbaf6><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-401fbaf6><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-401fbaf6><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-401fbaf6>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-401fbaf6 data-v-df89ae4c><button data-v-df89ae4c>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-ead8783a data-v-940a19c2><div class="curtain" data-v-940a19c2></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-940a19c2><span class="visually-hidden" id="sidebar-aria-label" data-v-940a19c2> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-940a19c2><section class="VPSidebarItem level-0" data-v-940a19c2 data-v-01669566><!----><div class="items" data-v-01669566><!--[--><div class="VPSidebarItem level-1 is-link" data-v-01669566 data-v-01669566><div class="item" data-v-01669566><div class="indicator" data-v-01669566></div><a class="VPLink link link" href="/code/%E5%90%8E%E7%AB%AF/MySQL/Mysql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html" data-v-01669566><!--[--><p class="text" data-v-01669566>基础语法</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-ead8783a data-v-f4efc1d2><div class="VPDoc has-sidebar has-aside" data-v-f4efc1d2 data-v-214d2813><!--[--><!--]--><div class="container" data-v-214d2813><div class="aside" data-v-214d2813><div class="aside-curtain" data-v-214d2813></div><div class="aside-container" data-v-214d2813><div class="aside-content" data-v-214d2813><div class="VPDocAside" data-v-214d2813 data-v-3f96aa29><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f96aa29 data-v-3d0b2299><div class="content" data-v-3d0b2299><div class="outline-marker" data-v-3d0b2299></div><div class="outline-title" role="heading" aria-level="2" data-v-3d0b2299>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3d0b2299><span class="visually-hidden" id="doc-outline-aria-label" data-v-3d0b2299> Table of Contents for current page </span><ul class="root" data-v-3d0b2299 data-v-3dc6add9><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f96aa29></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-214d2813><div class="content-container" data-v-214d2813><!--[--><!--]--><!----><main class="main" data-v-214d2813><div style="position:relative;" class="vp-doc _code_%E5%90%8E%E7%AB%AF_%E6%95%B0%E6%8D%AE%E5%BA%93_MySQL_Mysql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95" data-v-214d2813><div><h1 id="初识数据库" tabindex="-1">初识数据库 <a class="header-anchor" href="#初识数据库" aria-label="Permalink to &quot;初识数据库&quot;">​</a></h1><h2 id="什么是数据库" tabindex="-1">什么是数据库 <a class="header-anchor" href="#什么是数据库" aria-label="Permalink to &quot;什么是数据库&quot;">​</a></h2><blockquote><p><strong>数据库：DB（DataBase）</strong></p></blockquote><p><strong>概念</strong>：数据仓库，<code>软件</code>，安装在操作系统之上</p><p><strong>作用</strong>：存储数据，管理数据</p><hr><h2 id="数据库分类" tabindex="-1">数据库分类 <a class="header-anchor" href="#数据库分类" aria-label="Permalink to &quot;数据库分类&quot;">​</a></h2><p><strong>关系型数据库：SQL</strong>（Structured Query Language）</p><ul><li>MySQL、Oracle、Sql Server、DB2、SQLlite</li><li>通过表和表之间，行和列之间的关系进行数据的存储</li><li>通过外键关联来建立表与表之间的关系</li></ul><p><strong>非关系型数据库：NoSQL</strong>（Not Only SQL）</p><ul><li>Redis、MongoDB</li><li>指数据以<strong>对象</strong>的形式存储在数据库中，而对象之间的关系通过每个对象自身的属性来决定</li></ul><hr><h2 id="相关概念" tabindex="-1">相关概念 <a class="header-anchor" href="#相关概念" aria-label="Permalink to &quot;相关概念&quot;">​</a></h2><blockquote><p><strong>DBMS（数据库管理系统）</strong></p></blockquote><ul><li>数据库的管理<strong>软件</strong>，科学有效的管理、维护和获取我们的数据</li><li><strong>MySQL</strong>就是数据库管理系统</li></ul><p><img src="https://img-blog.csdnimg.cn/img_convert/6ca15d7eee443107638939952d09ed79.png" alt="image-20200718152213413"></p><hr><h2 id="mysql及其安装" tabindex="-1">MySQL及其安装 <a class="header-anchor" href="#mysql及其安装" aria-label="Permalink to &quot;MySQL及其安装&quot;">​</a></h2><ul><li><a href="https://bareth.blog.csdn.net/article/details/107369405" target="_blank" rel="noreferrer">MySQL最新版8.0.21安装配置教程~</a></li></ul><h2 id="基本命令" tabindex="-1">基本命令 <a class="header-anchor" href="#基本命令" aria-label="Permalink to &quot;基本命令&quot;">​</a></h2><blockquote><p>所有的语句都要以分号结尾;</p></blockquote><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">show databases;	</span><span style="color:#6A737D;">-- 查看当前所有的数据库</span></span>
<span class="line"><span style="color:#F97583;">use</span><span style="color:#E1E4E8;"> 数据库名;	</span><span style="color:#6A737D;">-- 打开指定的数据库</span></span>
<span class="line"><span style="color:#E1E4E8;">show tables;	</span><span style="color:#6A737D;">-- 查看所有的表</span></span>
<span class="line"><span style="color:#E1E4E8;">describe</span><span style="color:#F97583;">/desc</span><span style="color:#E1E4E8;"> 表名;	</span><span style="color:#6A737D;">-- 显示表的信息</span></span>
<span class="line"><span style="color:#F97583;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">database</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">数据库名</span><span style="color:#E1E4E8;">;	</span><span style="color:#6A737D;">-- 创建一个数据库</span></span>
<span class="line"><span style="color:#E1E4E8;">exit	</span><span style="color:#6A737D;">-- 退出连接</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">show databases;	</span><span style="color:#6A737D;">-- 查看当前所有的数据库</span></span>
<span class="line"><span style="color:#D73A49;">use</span><span style="color:#24292E;"> 数据库名;	</span><span style="color:#6A737D;">-- 打开指定的数据库</span></span>
<span class="line"><span style="color:#24292E;">show tables;	</span><span style="color:#6A737D;">-- 查看所有的表</span></span>
<span class="line"><span style="color:#24292E;">describe</span><span style="color:#D73A49;">/desc</span><span style="color:#24292E;"> 表名;	</span><span style="color:#6A737D;">-- 显示表的信息</span></span>
<span class="line"><span style="color:#D73A49;">create</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">database</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">数据库名</span><span style="color:#24292E;">;	</span><span style="color:#6A737D;">-- 创建一个数据库</span></span>
<span class="line"><span style="color:#24292E;">exit	</span><span style="color:#6A737D;">-- 退出连接</span></span></code></pre></div><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">--		-- 单行注释</span></span>
<span class="line"><span style="color:#E1E4E8;">#		</span><span style="color:#6A737D;">-- 单行注释</span></span>
<span class="line"><span style="color:#6A737D;">/*...*/</span><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">-- 多行注释</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">--		-- 单行注释</span></span>
<span class="line"><span style="color:#24292E;">#		</span><span style="color:#6A737D;">-- 单行注释</span></span>
<span class="line"><span style="color:#6A737D;">/*...*/</span><span style="color:#24292E;">		</span><span style="color:#6A737D;">-- 多行注释</span></span></code></pre></div><h1 id="操作数据库" tabindex="-1">操作数据库 <a class="header-anchor" href="#操作数据库" aria-label="Permalink to &quot;操作数据库&quot;">​</a></h1><h2 id="操作数据库-1" tabindex="-1">操作数据库 <a class="header-anchor" href="#操作数据库-1" aria-label="Permalink to &quot;操作数据库&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 创建数据库</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATABASE</span><span style="color:#E1E4E8;"> [IF NOT EXISTS] 数据库名;    </span><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SCHEMA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除数据库</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATABASE</span><span style="color:#E1E4E8;"> [if EXISTS] 数据库名;    </span><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SCHEMA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 使用数据库</span></span>
<span class="line"><span style="color:#6A737D;">-- 如果表名或者字段名是特殊字符，则需要带``</span></span>
<span class="line"><span style="color:#F97583;">use</span><span style="color:#E1E4E8;"> 数据库名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查看数据库</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW DATABASES;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 创建数据库</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATABASE</span><span style="color:#24292E;"> [IF NOT EXISTS] 数据库名;    </span><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SCHEMA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除数据库</span></span>
<span class="line"><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATABASE</span><span style="color:#24292E;"> [if EXISTS] 数据库名;    </span><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SCHEMA</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 使用数据库</span></span>
<span class="line"><span style="color:#6A737D;">-- 如果表名或者字段名是特殊字符，则需要带``</span></span>
<span class="line"><span style="color:#D73A49;">use</span><span style="color:#24292E;"> 数据库名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查看数据库</span></span>
<span class="line"><span style="color:#24292E;">SHOW DATABASES;</span></span></code></pre></div><h2 id="数据库的列类型" tabindex="-1">数据库的列类型 <a class="header-anchor" href="#数据库的列类型" aria-label="Permalink to &quot;数据库的列类型&quot;">​</a></h2><blockquote><p><strong>数值</strong></p></blockquote><table><thead><tr><th style="text-align:center;"><code>数据类型</code></th><th style="text-align:center;"><code>描述</code></th><th style="text-align:center;"><code>大小</code></th></tr></thead><tbody><tr><td style="text-align:center;">tinyint</td><td style="text-align:center;">十分小的数据</td><td style="text-align:center;">1个字节</td></tr><tr><td style="text-align:center;">smallint</td><td style="text-align:center;">较小的数据</td><td style="text-align:center;">2个字节</td></tr><tr><td style="text-align:center;">mediumint</td><td style="text-align:center;">中等大小的数据</td><td style="text-align:center;">3个字节</td></tr><tr><td style="text-align:center;">int</td><td style="text-align:center;">标准的整数</td><td style="text-align:center;">4个字节</td></tr><tr><td style="text-align:center;">bigint</td><td style="text-align:center;">较大的数据</td><td style="text-align:center;">8个字节</td></tr><tr><td style="text-align:center;">float</td><td style="text-align:center;">浮点数</td><td style="text-align:center;">4个字节</td></tr><tr><td style="text-align:center;">double</td><td style="text-align:center;">浮点数</td><td style="text-align:center;">8个字节</td></tr><tr><td style="text-align:center;">decimal</td><td style="text-align:center;">字符串形式的浮点数，一般用于金融计算</td><td style="text-align:center;"></td></tr></tbody></table><blockquote><p>字符串</p></blockquote><table><thead><tr><th style="text-align:center;"><code>数据类型</code></th><th style="text-align:center;"><code>描述</code></th><th style="text-align:center;"><code>大小</code></th></tr></thead><tbody><tr><td style="text-align:center;">char</td><td style="text-align:center;">字符串固定大小</td><td style="text-align:center;">0~255</td></tr><tr><td style="text-align:center;">varchar</td><td style="text-align:center;">可变字符串</td><td style="text-align:center;">0~65535</td></tr><tr><td style="text-align:center;">tinytext</td><td style="text-align:center;">微型文本</td><td style="text-align:center;">2^8-1</td></tr><tr><td style="text-align:center;">text</td><td style="text-align:center;">文本串</td><td style="text-align:center;">2^16-1</td></tr></tbody></table><blockquote><p>时间日期</p></blockquote><table><thead><tr><th style="text-align:center;"><code>数据类型</code></th><th style="text-align:center;"><code>描述</code></th><th style="text-align:center;"><code>格式</code></th></tr></thead><tbody><tr><td style="text-align:center;">date</td><td style="text-align:center;">日期格式</td><td style="text-align:center;">YYYY-MM-DD</td></tr><tr><td style="text-align:center;">time</td><td style="text-align:center;">时间格式</td><td style="text-align:center;">HH：mm：ss</td></tr><tr><td style="text-align:center;">datetime</td><td style="text-align:center;">最常用的时间格式</td><td style="text-align:center;">YYYY-MM-DD HH：mm：ss</td></tr><tr><td style="text-align:center;">timestamp</td><td style="text-align:center;">时间戳，1970.1.1到现在的毫秒数</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">year</td><td style="text-align:center;">年份表示</td><td style="text-align:center;"></td></tr></tbody></table><blockquote><p>null</p></blockquote><ul><li>没有值，未知</li><li>不要使用NULL值进行计算</li></ul><h2 id="数据库的字段属性" tabindex="-1">数据库的字段属性 <a class="header-anchor" href="#数据库的字段属性" aria-label="Permalink to &quot;数据库的字段属性&quot;">​</a></h2><blockquote><p><strong>UnSigned</strong></p></blockquote><ul><li>无符号的</li><li>声明了该列不能为负数</li></ul><blockquote><p>ZEROFILL</p></blockquote><ul><li>0填充的</li><li>不足位数用0来填充，如int(3)，5则为005</li></ul><blockquote><p><strong>Auto_InCrement</strong></p></blockquote><ul><li>通常理解为自增，自动在上一条记录的基础上默认+1</li><li>通常用来设计唯一的主键，必须是整数类型</li><li>可定义起始值和步长 <ul><li>当前表设置步长(AUTO_INCREMENT=100) : 只影响当前表</li><li>SET @@auto_increment_increment=5 ; 影响所有使用自增的表(全局)</li></ul></li></ul><blockquote><p><strong>NULL 和 NOT NULL</strong></p></blockquote><ul><li>默认为NULL , 即没有插入该列的数值</li><li>如果设置为NOT NULL , 则该列必须有值</li></ul><blockquote><p><strong>DEFAULT</strong></p></blockquote><ul><li>默认的</li><li>用于设置默认值</li><li>例如,性别字段,默认为&quot;男&quot; , 否则为 “女” ; 若无指定该列的值 , 则默认值为&quot;男&quot;的值</li></ul><p><strong>拓展</strong>：每一个表，都必须存在以下五个字段：</p><table><thead><tr><th style="text-align:center;">名称</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">id</td><td style="text-align:center;">主键</td></tr><tr><td style="text-align:center;">version</td><td style="text-align:center;">乐观锁</td></tr><tr><td style="text-align:center;">is_delete</td><td style="text-align:center;">伪删除</td></tr><tr><td style="text-align:center;">gmt_create</td><td style="text-align:center;">创建时间</td></tr><tr><td style="text-align:center;">gmt_update</td><td style="text-align:center;">修改时间</td></tr></tbody></table><h2 id="创建数据库表" tabindex="-1">创建数据库表 <a class="header-anchor" href="#创建数据库表" aria-label="Permalink to &quot;创建数据库表&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">IF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">EXISTS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">)	</span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT COMMENT </span><span style="color:#9ECBFF;">&#39;学号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;匿名&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;姓名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;123456&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;密码&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`sex`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;女&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;性别&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`birthday`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATETIME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;出生日期&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`address`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;家庭住址&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`email`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;邮箱&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IF</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NOT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">EXISTS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">)	</span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> AUTO_INCREMENT COMMENT </span><span style="color:#032F62;">&#39;学号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`name`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;匿名&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;姓名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`pwd`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;123456&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;密码&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`sex`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;女&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;性别&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`birthday`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATETIME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;出生日期&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`address`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;家庭住址&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`email`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;邮箱&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8</span></span></code></pre></div><p><code>注意点</code>：</p><ul><li>表名和字段尽量使用``括起来</li><li>AUTO_INCREMENT 代表自增</li><li>所有的语句后面加逗号，最后一个不加</li><li>字符串使用单引号括起来</li><li>主键的声明一般放在最后，便于查看</li><li>不设置字符集编码的话，会使用MySQL默认的字符集编码Latin1，不支持中文，可以在my.ini里修改</li></ul><blockquote><p>格式：</p></blockquote><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">IF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">EXISTS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">&#39;字段名&#39;</span><span style="color:#E1E4E8;"> 列类型 [属性] [索引] [注释],</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;字段名&#39;</span><span style="color:#E1E4E8;"> 列类型 [属性] [索引] [注释],</span></span>
<span class="line"><span style="color:#E1E4E8;">    ......</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&#39;字段名&#39;</span><span style="color:#E1E4E8;"> 列类型 [属性] [索引] [注释]</span></span>
<span class="line"><span style="color:#E1E4E8;">)[表的类型][字符集设置][注释]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IF</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NOT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">EXISTS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">&#39;字段名&#39;</span><span style="color:#24292E;"> 列类型 [属性] [索引] [注释],</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;字段名&#39;</span><span style="color:#24292E;"> 列类型 [属性] [索引] [注释],</span></span>
<span class="line"><span style="color:#24292E;">    ......</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&#39;字段名&#39;</span><span style="color:#24292E;"> 列类型 [属性] [索引] [注释]</span></span>
<span class="line"><span style="color:#24292E;">)[表的类型][字符集设置][注释]</span></span></code></pre></div><p><code>常用命令</code></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">SHOW </span><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATABASE</span><span style="color:#E1E4E8;"> 数据库名;</span><span style="color:#6A737D;">-- 查看创建数据库的语句</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW </span><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名;</span><span style="color:#6A737D;">-- 查看表的定义语句</span></span>
<span class="line"><span style="color:#F97583;">DESC</span><span style="color:#E1E4E8;"> 表名;</span><span style="color:#6A737D;">-- 显示表的具体结构</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">SHOW </span><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATABASE</span><span style="color:#24292E;"> 数据库名;</span><span style="color:#6A737D;">-- 查看创建数据库的语句</span></span>
<span class="line"><span style="color:#24292E;">SHOW </span><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名;</span><span style="color:#6A737D;">-- 查看表的定义语句</span></span>
<span class="line"><span style="color:#D73A49;">DESC</span><span style="color:#24292E;"> 表名;</span><span style="color:#6A737D;">-- 显示表的具体结构</span></span></code></pre></div><h2 id="数据库存储引擎" tabindex="-1">数据库存储引擎 <a class="header-anchor" href="#数据库存储引擎" aria-label="Permalink to &quot;数据库存储引擎&quot;">​</a></h2><p><strong>INNODB</strong></p><ul><li>默认使用，安全性高，支持事务的处理，多表多用户操作</li></ul><p><strong>MYISAM</strong></p><ul><li>早些年使用，节约空间，速度较快</li></ul><table><thead><tr><th></th><th>MYISAM</th><th>INNODB</th></tr></thead><tbody><tr><td><strong>事务支持</strong></td><td>不支持</td><td>支持</td></tr><tr><td><strong>数据行锁定</strong></td><td>不支持</td><td>支持</td></tr><tr><td><strong>外键约束</strong></td><td>不支持</td><td>支持</td></tr><tr><td><strong>全文索引</strong></td><td>支持</td><td>不支持</td></tr><tr><td><strong>表空间大小</strong></td><td>较小</td><td>较大，约为2倍</td></tr></tbody></table><blockquote><p><strong>数据库文件存在的物理空间位置</strong>：</p></blockquote><ul><li>MySQL数据表以文件方式存放在磁盘中 <ul><li>包括表文件 , 数据文件 , 以及数据库的选项文件</li><li>位置 : <code>Mysql安装目录\data\</code>（目录名对应数据库名 , 该目录下文件名对应数据表）</li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/img_convert/1946b76c983e11c85ab1b71a89158eb0.png" alt=""></p><p><strong>MySQL在文件引擎上区别：</strong></p><ul><li><code>INNODB</code>数据库文件类型就包括**.frm**、<strong>.ibd</strong>以及在上一级目录的<strong>ibdata1</strong>文件</li><li>MYISAM 存储引擎，数据库文件类型就包括 <ul><li><strong>.frm</strong>：表结构定义文件</li><li><strong>.MYD</strong>：数据文件</li><li><strong>.MYI</strong>：索引文件</li></ul></li></ul><h2 id="修改数据库" tabindex="-1">修改数据库 <a class="header-anchor" href="#修改数据库" aria-label="Permalink to &quot;修改数据库&quot;">​</a></h2><blockquote><p><strong>修改</strong></p></blockquote><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 修改表名</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 旧表名 RENAME AS 新表名</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> teacher RENAME </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> teachers;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 增加表的字段</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 表名 ADD 字段名 列属性</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> teachers </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> age </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表的字段(重命名，修改约束)</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 表名 MODIFY 字段名 [列属性];</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> teachers </span><span style="color:#F97583;">MODIFY</span><span style="color:#E1E4E8;"> age </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">);</span><span style="color:#6A737D;">-- 修改约束</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 表名 CHANGE 旧名字 新名字 [列属性];</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> teachers CHANGE age age1 </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span><span style="color:#6A737D;">-- 字段重命名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除表的字段</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 表名 DROP 字段名</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> teachers </span><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> age1;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 修改表名</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 旧表名 RENAME AS 新表名</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> teacher RENAME </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> teachers;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 增加表的字段</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 表名 ADD 字段名 列属性</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> teachers </span><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> age </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表的字段(重命名，修改约束)</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 表名 MODIFY 字段名 [列属性];</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> teachers </span><span style="color:#D73A49;">MODIFY</span><span style="color:#24292E;"> age </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">-- 修改约束</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 表名 CHANGE 旧名字 新名字 [列属性];</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> teachers CHANGE age age1 </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">-- 字段重命名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除表的字段</span></span>
<span class="line"><span style="color:#6A737D;">-- ALTER TABLE 表名 DROP 字段名</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> teachers </span><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> age1;</span></span></code></pre></div><blockquote><p><strong>删除</strong></p></blockquote><p><strong>语法</strong>：DROP TABLE [IF EXISTS] 表名</p><ul><li>IF EXISTS为可选 , 判断是否存在该数据表</li><li>如删除不存在的数据表会抛出错误</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 删除表(如果存在再删除)</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">IF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">EXISTS</span><span style="color:#E1E4E8;"> teachers;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 删除表(如果存在再删除)</span></span>
<span class="line"><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">IF</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">EXISTS</span><span style="color:#24292E;"> teachers;</span></span></code></pre></div><p><strong>所有的创建和删除尽量加上判断，以免报错~</strong></p><h1 id="mysql数据管理" tabindex="-1">MySQL数据管理 <a class="header-anchor" href="#mysql数据管理" aria-label="Permalink to &quot;MySQL数据管理&quot;">​</a></h1><h2 id="外键" tabindex="-1">外键 <a class="header-anchor" href="#外键" aria-label="Permalink to &quot;外键&quot;">​</a></h2><blockquote><p><strong>外键概念</strong></p></blockquote><p>如果公共关键字在一个关系中是主关键字，那么这个公共关键字被称为另一个关系的外键。由此可见，外键表示了两个人关系之间的相互联系。以另一个关系的外键作主关键字的表被称为<code>主表</code>，具有此外键的表被称为主表的<code>从表</code>。</p><p>在实际操作中，将一个表的值放入第二个表来表示关联，所使用的值是第一个表的主键值(在必要时可包括复合主键值)。此时，第二个表中保存这些值的属性被称为外键(<code>foreign key</code>)。</p><p><strong>外键作用</strong>：</p><p>保持数据<code>一致性</code>，<code>完整性</code>，主要目的是控制存储在外键表中的数据，<code>约束</code>。使两张表形成关联，外键只能引用外表中的列的值或使用空值。</p><hr><p>目标：学生表（student）的gradeid字段 要去引用年级表（grade）的 gradeid字段</p><blockquote><p><strong>创建外键</strong></p></blockquote><p><strong>方式一：在创建表的时候增加约束</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">	1. 定义外键key</span></span>
<span class="line"><span style="color:#6A737D;">	2. 给外键添加约束（执行引用）references 引用</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">IF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">EXISTS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT COMMENT </span><span style="color:#9ECBFF;">&#39;学号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;匿名&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;姓名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;123456&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;密码&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`sex`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">)	</span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;女&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;性别&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`birthday`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATETIME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;出生日期&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`address`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;家庭住址&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`email`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;邮箱&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;学生的年级&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">KEY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`FK_gradeid`</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">CONSTRAINT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`FK_gradeid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FOREIGN KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">REFERENCES</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`grade`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建年级表</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">grade</span><span style="color:#E1E4E8;">`(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年级id&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`gradename`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年纪名称&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">	1. 定义外键key</span></span>
<span class="line"><span style="color:#6A737D;">	2. 给外键添加约束（执行引用）references 引用</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IF</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NOT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">EXISTS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> AUTO_INCREMENT COMMENT </span><span style="color:#032F62;">&#39;学号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`name`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;匿名&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;姓名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`pwd`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;123456&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;密码&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`sex`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)	</span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;女&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;性别&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`birthday`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATETIME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;出生日期&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`address`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;家庭住址&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`email`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;邮箱&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;学生的年级&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">KEY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`FK_gradeid`</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">CONSTRAINT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`FK_gradeid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FOREIGN KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">REFERENCES</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`grade`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建年级表</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">grade</span><span style="color:#24292E;">`(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年级id&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`gradename`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年纪名称&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8</span></span></code></pre></div><p>删除有外键关系的表的时候，必须要先删除引用别人的表（从表），再删除被引用的表（主表）</p><hr><p><strong>方法二：创建表成功后，添加外键约束</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">	1. 定义外键key</span></span>
<span class="line"><span style="color:#6A737D;">	2. 给外键添加约束（执行引用）references 引用</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">IF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">EXISTS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT COMMENT </span><span style="color:#9ECBFF;">&#39;学号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;匿名&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;姓名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;123456&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;密码&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`sex`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">)	</span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;女&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;性别&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`birthday`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATETIME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;出生日期&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`address`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;家庭住址&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`email`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;邮箱&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;学生的年级&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建表的时候没有外键关系</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span></span>
<span class="line"><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">CONSTRAINT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`FK_gradeid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FOREIGN KEY</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">REFERENCES</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`grade`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建年级表</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">grade</span><span style="color:#E1E4E8;">`(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年级id&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`gradename`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年纪名称&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`gradeid`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">	1. 定义外键key</span></span>
<span class="line"><span style="color:#6A737D;">	2. 给外键添加约束（执行引用）references 引用</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IF</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NOT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">EXISTS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> AUTO_INCREMENT COMMENT </span><span style="color:#032F62;">&#39;学号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`name`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;匿名&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;姓名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`pwd`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;123456&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;密码&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`sex`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)	</span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;女&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;性别&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`birthday`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATETIME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;出生日期&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`address`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;家庭住址&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`email`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;邮箱&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;学生的年级&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建表的时候没有外键关系</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span></span>
<span class="line"><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">CONSTRAINT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`FK_gradeid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FOREIGN KEY</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">REFERENCES</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`grade`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建年级表</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">grade</span><span style="color:#24292E;">`(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年级id&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`gradename`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年纪名称&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`gradeid`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8</span></span></code></pre></div><p>以上的操作都是物理外键，数据库级别的外键，不建议使用！避免数据库过多造成困扰！</p><p><code>最佳实践</code></p><ul><li>数据库就是用来单纯的表，只用来存数据，只有行（数据）和列（属性）</li><li>我们想使用多张表的数据，使用外键，用程序去实现</li></ul><hr><h2 id="dml语言" tabindex="-1">DML语言 <a class="header-anchor" href="#dml语言" aria-label="Permalink to &quot;DML语言&quot;">​</a></h2><p><code>数据库的意义</code>：数据存储，数据管理</p><blockquote><p><code>Data Manipulation Luaguge</code>：数据库操作语言</p></blockquote><h3 id="_1-添加-insert" tabindex="-1">1. 添加 <a href="https://so.csdn.net/so/search?q=insert&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">insert</a> <a class="header-anchor" href="#_1-添加-insert" aria-label="Permalink to &quot;1. 添加 [insert](https://so.csdn.net/so/search?q=insert&amp;spm=1001.2101.3001.7020)&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 普通用法</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">&#39;zsr&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入多条数据</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`sex`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">&#39;zsr&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;200024&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;男&#39;</span><span style="color:#E1E4E8;">),(</span><span style="color:#9ECBFF;">&#39;gcc&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;000421&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;女&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 省略字段</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;Bareth&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;123456&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;男&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;2000-02-04&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;武汉&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;1412@qq.com&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">); </span></span>
<span class="line"><span style="color:#79B8FF;">12345678</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 普通用法</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`name`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">&#39;zsr&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入多条数据</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`name`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`pwd`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`sex`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">&#39;zsr&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;200024&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;男&#39;</span><span style="color:#24292E;">),(</span><span style="color:#032F62;">&#39;gcc&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;000421&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;女&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 省略字段</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;Bareth&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;123456&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;男&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;2000-02-04&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;武汉&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;1412@qq.com&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">); </span></span>
<span class="line"><span style="color:#005CC5;">12345678</span></span></code></pre></div><p><strong>语法：</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> 表名([字段1,字段2..])</span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;值1&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;值2&#39;</span><span style="color:#E1E4E8;">..),[(&#39;值1&#39;,&#39;值2&#39;..)..];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> 表名([字段1,字段2..])</span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;值1&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;值2&#39;</span><span style="color:#24292E;">..),[(&#39;值1&#39;,&#39;值2&#39;..)..];</span></span></code></pre></div><p><strong>注意</strong>：</p><ol><li>字段和字段之间使用英文逗号隔开</li><li>字段是可以省略的，但是值必须完整且一一对应</li><li>可以同时插入多条数据，VALUES后面的值需要使用逗号隔开</li></ol><hr><h3 id="_2-修改-update" tabindex="-1">2. 修改 update <a class="header-anchor" href="#_2-修改-update" aria-label="Permalink to &quot;2. 修改 update&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 修改学员名字,指定条件</span></span>
<span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`name`</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;zsr204&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> id</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 不指定条件的情况,会改动所有表</span></span>
<span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`name`</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;zsr204&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改多个属性</span></span>
<span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`name`</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;zsr&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`address`</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;湖北&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> id</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 通过多个条件定位数据</span></span>
<span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`name`</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;zsr204&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`name`</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;zsr&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AND</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;200024&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">1234567891011</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 修改学员名字,指定条件</span></span>
<span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`name`</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;zsr204&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> id</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 不指定条件的情况,会改动所有表</span></span>
<span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`name`</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;zsr204&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改多个属性</span></span>
<span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`name`</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;zsr&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`address`</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;湖北&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> id</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 通过多个条件定位数据</span></span>
<span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`name`</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;zsr204&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`name`</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;zsr&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AND</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`pwd`</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;200024&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">1234567891011</span></span></code></pre></div><p><strong>语法</strong>：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> 字段1</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">值1,[字段2=值2...] </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> 条件[];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> 字段1</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">值1,[字段2=值2...] </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> 条件[];</span></span></code></pre></div><p><strong>关于WHERE条件语句</strong>：</p><table><thead><tr><th>操作符</th><th>含义</th></tr></thead><tbody><tr><td>=</td><td>等于</td></tr><tr><td>&lt;&gt;或!=</td><td>不等于</td></tr><tr><td>&gt;</td><td>大于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr><tr><td>&gt;=</td><td>大于等于</td></tr><tr><td>BETWEEN…AND…</td><td>闭合区间</td></tr><tr><td>AND</td><td>和</td></tr><tr><td>OR</td><td>或</td></tr></tbody></table><hr><h3 id="_3-删除-delete" tabindex="-1">3. 删除 delete <a class="header-anchor" href="#_3-删除-delete" aria-label="Permalink to &quot;3. 删除 delete&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 删除数据(避免这样写,会全部删除)</span></span>
<span class="line"><span style="color:#F97583;">DELETE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除指定数据</span></span>
<span class="line"><span style="color:#F97583;">DELETE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> id</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 删除数据(避免这样写,会全部删除)</span></span>
<span class="line"><span style="color:#D73A49;">DELETE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除指定数据</span></span>
<span class="line"><span style="color:#D73A49;">DELETE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> id</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span></code></pre></div><p><strong>语法</strong>：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">DELETE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名 [WHERE 条件]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">DELETE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名 [WHERE 条件]</span></span></code></pre></div><p>关于<code>DELETE</code>删除的问题，重启数据库现象：</p><ul><li>INNODB 自增列会从1开始（存在内存当中，断电即失）</li><li>MYISAM 继续从上一个子增量开始（存在内存当中，不会丢失）</li></ul><blockquote><p>TRUNCATE</p></blockquote><p><strong>作用</strong>：完全清空一个数据库表，表的结构和索引约束不会变！</p><p><strong>DELETE和TRUNCATE 的区别：</strong></p><ul><li>DELETE可以条件删除（where子句），而TRUNCATE只能删除整个表</li><li>TRUNCATE 重新设置自增列，计数器会归零，而DELETE不会影响自增</li><li>DELETE是数据操作语言（DML - Data Manipulation Language），操作时原数据会被放到 rollback segment中，可以被回滚；而TRUNCATE是数据定义语言（DDL - Data Definition Language)，操作时不会进行存储，不能进行回滚。 <img src="https://img-blog.csdnimg.cn/img_convert/b4b2c1e383fc8bd2f0b1e4a4eddc080f.png" alt="image-20210418210712785"></li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">`(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`coll`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`test`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`coll`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">),(</span><span style="color:#9ECBFF;">&#39;2&#39;</span><span style="color:#E1E4E8;">),(</span><span style="color:#9ECBFF;">&#39;3&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 不会影响自增</span></span>
<span class="line"><span style="color:#F97583;">DELETE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`test`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 会影响自增</span></span>
<span class="line"><span style="color:#F97583;">TRUNCATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`test`</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">`(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`coll`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`test`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`coll`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">),(</span><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;">),(</span><span style="color:#032F62;">&#39;3&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 不会影响自增</span></span>
<span class="line"><span style="color:#D73A49;">DELETE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`test`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 会影响自增</span></span>
<span class="line"><span style="color:#D73A49;">TRUNCATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`test`</span><span style="color:#24292E;">;</span></span></code></pre></div><hr><h1 id="dql查询数据" tabindex="-1">DQL查询数据 <a class="header-anchor" href="#dql查询数据" aria-label="Permalink to &quot;DQL查询数据&quot;">​</a></h1><blockquote><p><code>Data QueryLanguage</code>：数据查询语言</p></blockquote><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> [ALL | DISTINCT]</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> | </span><span style="color:#F97583;">table</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> | [table.field1[as alias1][,table.field2[as alias2]][,...]]}</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> table_name [as table_alias]</span></span>
<span class="line"><span style="color:#E1E4E8;">  [left | right | inner join table_name2]  </span><span style="color:#6A737D;">-- 联合查询</span></span>
<span class="line"><span style="color:#E1E4E8;">  [WHERE ...]  </span><span style="color:#6A737D;">-- 指定结果需满足的条件</span></span>
<span class="line"><span style="color:#E1E4E8;">  [GROUP BY ...]  </span><span style="color:#6A737D;">-- 指定结果按照哪几个字段来分组</span></span>
<span class="line"><span style="color:#E1E4E8;">  [HAVING]  </span><span style="color:#6A737D;">-- 过滤分组的记录必须满足的次要条件</span></span>
<span class="line"><span style="color:#E1E4E8;">  [ORDER BY ...]  </span><span style="color:#6A737D;">-- 指定查询记录按一个或多个条件排序</span></span>
<span class="line"><span style="color:#E1E4E8;">  [LIMIT {[offset,]row_count | row_countOFFSET offset}]; </span><span style="color:#6A737D;">-- 指定查询的记录从哪条至哪条</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> [ALL | DISTINCT]</span></span>
<span class="line"><span style="color:#24292E;">{</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> | </span><span style="color:#D73A49;">table</span><span style="color:#24292E;">.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> | [table.field1[as alias1][,table.field2[as alias2]][,...]]}</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> table_name [as table_alias]</span></span>
<span class="line"><span style="color:#24292E;">  [left | right | inner join table_name2]  </span><span style="color:#6A737D;">-- 联合查询</span></span>
<span class="line"><span style="color:#24292E;">  [WHERE ...]  </span><span style="color:#6A737D;">-- 指定结果需满足的条件</span></span>
<span class="line"><span style="color:#24292E;">  [GROUP BY ...]  </span><span style="color:#6A737D;">-- 指定结果按照哪几个字段来分组</span></span>
<span class="line"><span style="color:#24292E;">  [HAVING]  </span><span style="color:#6A737D;">-- 过滤分组的记录必须满足的次要条件</span></span>
<span class="line"><span style="color:#24292E;">  [ORDER BY ...]  </span><span style="color:#6A737D;">-- 指定查询记录按一个或多个条件排序</span></span>
<span class="line"><span style="color:#24292E;">  [LIMIT {[offset,]row_count | row_countOFFSET offset}]; </span><span style="color:#6A737D;">-- 指定查询的记录从哪条至哪条</span></span></code></pre></div><ul><li>查询数据库数据，如SELECT语句</li><li>简单的单表查询或多表的复杂查询和嵌套查询</li><li>是数据库语言中最核心，最重要的语句</li><li>使用频率最高的语句</li></ul><p><code>前提配置</code>：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 创建学校数据库</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATABASE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">IF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">EXISTS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`school`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 用school数据库</span></span>
<span class="line"><span style="color:#F97583;">USE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`school`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建年级表grade表</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">grade</span><span style="color:#E1E4E8;">`(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`GradeID`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT COMMENT </span><span style="color:#9ECBFF;">&#39;年级编号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`GradeName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年纪名称&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;">	(</span><span style="color:#9ECBFF;">`GradeID`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB AUTO_INCREMENT</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">6</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 给grade表插入数据</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`grade`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`GradeID`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`GradeName`</span><span style="color:#E1E4E8;">) </span></span>
<span class="line"><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;大一&#39;</span><span style="color:#E1E4E8;">),(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;大二&#39;</span><span style="color:#E1E4E8;">),(</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;大三&#39;</span><span style="color:#E1E4E8;">),(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;大四&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建成绩result表</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">result</span><span style="color:#E1E4E8;">`(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;学号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`SubjectNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;考试编号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`ExamDate`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATETIME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;考试日期&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;考试成绩&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">KEY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`SubjectNo`</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`SubjectNo`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 给result表插入数据</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`result`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`SubjectNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`ExamDate`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;">) </span></span>
<span class="line"><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;2019-10-21 16:00:00&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">97</span><span style="color:#E1E4E8;">),(</span><span style="color:#79B8FF;">1001</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;2019-10-21 16:00:00&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">96</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;2019-10-21 16:00:00&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">87</span><span style="color:#E1E4E8;">),(</span><span style="color:#79B8FF;">1001</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;2019-10-21 16:00:00&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">98</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建学生表student</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">student</span><span style="color:#E1E4E8;">`(	</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;学号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`LoginPwd`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;学生姓名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`Sex`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TINYINT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;性别,取值0或1&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`GradeID`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年级编号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`Phone`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;联系电话,允许为空,即可选输入&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`Adress`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">255</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;地址,允许为空,即可选输入&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`BornDate`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATETIME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;出生时间&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`Email`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;邮箱账号,允许为空,即可选输入&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`IdentityCard`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;身份证号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">UNIQUE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">KEY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`IdentityCard`</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`IdentityCard`</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">KEY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`Email`</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`Email`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">MYISAM </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 给学生表插入数据</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`LoginPwd`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`Sex`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`GradeID`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`Phone`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`Adress`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`BornDate`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`Email`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`IdentityCard`</span><span style="color:#E1E4E8;">) </span></span>
<span class="line"><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;1241&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;dsaf&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;24357&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;unknow&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;2000-09-16 00:00:00&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;1231@qq.com&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;809809&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1001</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;1321&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;dfdj&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;89900&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;unknow&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;2000-10-16 00:00:00&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;5971@qq.com&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;908697&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建科目表</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">subject</span><span style="color:#E1E4E8;">`(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`SubjectNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT COMMENT </span><span style="color:#9ECBFF;">&#39;课程编号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`SubjectName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;课程名称&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`ClassHour`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;学时&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`GradeID`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年级编号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`SubjectNo`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB AUTO_INCREMENT</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 给科目表subject插入数据</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`subject`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`SubjectNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`SubjectName`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`ClassHour`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`GradeID`</span><span style="color:#E1E4E8;">) </span></span>
<span class="line"><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;高数&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;96&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">),(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;大物&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;112&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">),(</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;程序设计&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">64</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 字段 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 创建学校数据库</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATABASE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IF</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NOT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">EXISTS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`school`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 用school数据库</span></span>
<span class="line"><span style="color:#D73A49;">USE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`school`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建年级表grade表</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">grade</span><span style="color:#24292E;">`(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`GradeID`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> AUTO_INCREMENT COMMENT </span><span style="color:#032F62;">&#39;年级编号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`GradeName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年纪名称&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;">	(</span><span style="color:#032F62;">`GradeID`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB AUTO_INCREMENT</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">6</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 给grade表插入数据</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`grade`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`GradeID`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`GradeName`</span><span style="color:#24292E;">) </span></span>
<span class="line"><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;大一&#39;</span><span style="color:#24292E;">),(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;大二&#39;</span><span style="color:#24292E;">),(</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;大三&#39;</span><span style="color:#24292E;">),(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;大四&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建成绩result表</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">result</span><span style="color:#24292E;">`(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;学号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`SubjectNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;考试编号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`ExamDate`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATETIME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;考试日期&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;考试成绩&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">KEY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`SubjectNo`</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`SubjectNo`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 给result表插入数据</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`result`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`SubjectNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`ExamDate`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;">) </span></span>
<span class="line"><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;2019-10-21 16:00:00&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">97</span><span style="color:#24292E;">),(</span><span style="color:#005CC5;">1001</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;2019-10-21 16:00:00&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">96</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;2019-10-21 16:00:00&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">87</span><span style="color:#24292E;">),(</span><span style="color:#005CC5;">1001</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;2019-10-21 16:00:00&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">98</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建学生表student</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">student</span><span style="color:#24292E;">`(	</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;学号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`LoginPwd`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;学生姓名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`Sex`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TINYINT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;性别,取值0或1&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`GradeID`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年级编号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`Phone`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;联系电话,允许为空,即可选输入&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`Adress`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">255</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;地址,允许为空,即可选输入&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`BornDate`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATETIME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;出生时间&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`Email`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;邮箱账号,允许为空,即可选输入&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`IdentityCard`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">18</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;身份证号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">UNIQUE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">KEY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`IdentityCard`</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`IdentityCard`</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">KEY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`Email`</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`Email`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">MYISAM </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 给学生表插入数据</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`LoginPwd`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`Sex`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`GradeID`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`Phone`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`Adress`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`BornDate`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`Email`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`IdentityCard`</span><span style="color:#24292E;">) </span></span>
<span class="line"><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;1241&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;dsaf&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;24357&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;unknow&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;2000-09-16 00:00:00&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;1231@qq.com&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;809809&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#005CC5;">1001</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;1321&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;dfdj&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;89900&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;unknow&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;2000-10-16 00:00:00&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;5971@qq.com&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;908697&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建科目表</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">subject</span><span style="color:#24292E;">`(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`SubjectNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> AUTO_INCREMENT COMMENT </span><span style="color:#032F62;">&#39;课程编号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`SubjectName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;课程名称&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`ClassHour`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;学时&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`GradeID`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年级编号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`SubjectNo`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB AUTO_INCREMENT</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">18</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 给科目表subject插入数据</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`subject`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`SubjectNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`SubjectName`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`ClassHour`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`GradeID`</span><span style="color:#24292E;">) </span></span>
<span class="line"><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;高数&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;96&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">),(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;大物&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;112&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">),(</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;程序设计&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">64</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 字段 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表;</span></span></code></pre></div><h2 id="基础查询" tabindex="-1"><strong>基础查询</strong> <a class="header-anchor" href="#基础查询" aria-label="Permalink to &quot;**基础查询**&quot;">​</a></h2><p><code>语法</code>：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> 查询列表 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> 查询列表 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名;</span></span></code></pre></div><ul><li>查询列表可以是：表中的（一个或多个）字段，常量，变量，表达式，函数</li><li>查询结果是一个虚拟表格</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 查询全部学生</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询指定的字段</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`LoginPwd`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 别名 AS(可以给字段起别名,也可以给表起别名)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> 学号,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> 学生姓名 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> 学生表;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 函数 CONCAT(str1,str2,...)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">CONCAT</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;姓名&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> 新名字 </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询系统版本(函数)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VERSION</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 用来计算(计算表达式)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#F97583;">*</span><span style="color:#79B8FF;">53</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">90</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> 计算结果;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询自增步长(变量)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> @@auto_increment_increment;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询有哪写同学参加了考试,重复数据要去重</span></span>
<span class="line"><span style="color:#F97583;">SELECT DISTINCT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 查询全部学生</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询指定的字段</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`LoginPwd`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 别名 AS(可以给字段起别名,也可以给表起别名)</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> 学号,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> 学生姓名 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> 学生表;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 函数 CONCAT(str1,str2,...)</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">CONCAT</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;姓名&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> 新名字 </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询系统版本(函数)</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VERSION</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 用来计算(计算表达式)</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">53</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">90</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> 计算结果;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询自增步长(变量)</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> @@auto_increment_increment;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询有哪写同学参加了考试,重复数据要去重</span></span>
<span class="line"><span style="color:#D73A49;">SELECT DISTINCT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result;</span></span></code></pre></div><h2 id="查询条件" tabindex="-1">查询条件 <a class="header-anchor" href="#查询条件" aria-label="Permalink to &quot;查询条件&quot;">​</a></h2><blockquote><p>where 条件字句：检索数据中<code>符合条件</code>的值</p></blockquote><p><strong>语法</strong>：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">select</span><span style="color:#E1E4E8;"> 查询列表 </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">where</span><span style="color:#E1E4E8;"> 筛选条件;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">select</span><span style="color:#24292E;"> 查询列表 </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">where</span><span style="color:#24292E;"> 筛选条件;</span></span></code></pre></div><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 查询考试成绩在95~100之间的</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#F97583;">&gt;=</span><span style="color:#79B8FF;">95</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AND</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#F97583;">&lt;=</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- &amp;&amp;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#F97583;">&gt;=</span><span style="color:#79B8FF;">95</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#F97583;">&lt;=</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- BETWEEN AND</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#F97583;">BETWEEN</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">95</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AND</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询除了1000号以外的学生</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#F97583;">!=</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- NOT</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NOT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询名字含d的同学</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">LIKE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;%d%&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询名字倒数第二个为d的同学</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">LIKE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;%d_&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询1000,1001学员</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">IN</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1001</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 查询考试成绩在95~100之间的</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentResult`</span><span style="color:#D73A49;">&gt;=</span><span style="color:#005CC5;">95</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AND</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentResult`</span><span style="color:#D73A49;">&lt;=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- &amp;&amp;</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentResult`</span><span style="color:#D73A49;">&gt;=</span><span style="color:#005CC5;">95</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#032F62;">`StudentResult`</span><span style="color:#D73A49;">&lt;=</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- BETWEEN AND</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentResult`</span><span style="color:#D73A49;">BETWEEN</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">95</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AND</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询除了1000号以外的学生</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#D73A49;">!=</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- NOT</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NOT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询名字含d的同学</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">LIKE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;%d%&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询名字倒数第二个为d的同学</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">LIKE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;%d_&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询1000,1001学员</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">IN</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1001</span><span style="color:#24292E;">);</span></span></code></pre></div><h2 id="分组查询" tabindex="-1">分组查询 <a class="header-anchor" href="#分组查询" aria-label="Permalink to &quot;分组查询&quot;">​</a></h2><p><code>语法</code>：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">select</span><span style="color:#E1E4E8;"> 分组函数，分组后的字段</span></span>
<span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> 表</span></span>
<span class="line"><span style="color:#E1E4E8;">【</span><span style="color:#F97583;">where</span><span style="color:#E1E4E8;"> 筛选条件】</span></span>
<span class="line"><span style="color:#F97583;">group by</span><span style="color:#E1E4E8;"> 分组的字段</span></span>
<span class="line"><span style="color:#E1E4E8;">【</span><span style="color:#F97583;">having</span><span style="color:#E1E4E8;"> 分组后的筛选】</span></span>
<span class="line"><span style="color:#E1E4E8;">【</span><span style="color:#F97583;">order by</span><span style="color:#E1E4E8;"> 排序列表】</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">select</span><span style="color:#24292E;"> 分组函数，分组后的字段</span></span>
<span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> 表</span></span>
<span class="line"><span style="color:#24292E;">【</span><span style="color:#D73A49;">where</span><span style="color:#24292E;"> 筛选条件】</span></span>
<span class="line"><span style="color:#D73A49;">group by</span><span style="color:#24292E;"> 分组的字段</span></span>
<span class="line"><span style="color:#24292E;">【</span><span style="color:#D73A49;">having</span><span style="color:#24292E;"> 分组后的筛选】</span></span>
<span class="line"><span style="color:#24292E;">【</span><span style="color:#D73A49;">order by</span><span style="color:#24292E;"> 排序列表】</span></span></code></pre></div><p><code>区别</code>：</p><table><thead><tr><th></th><th>使用关键字</th><th>筛选的表</th><th>位置</th></tr></thead><tbody><tr><td>分组前筛选</td><td>where</td><td>原始表</td><td>group by的前面</td></tr><tr><td>分组后筛选</td><td>having</td><td>分组后的结果</td><td>group by 的后面</td></tr></tbody></table><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 查询不同科目的平均分、最高分、最低分且平均分大于90</span></span>
<span class="line"><span style="color:#6A737D;">-- 核心：根据不同的课程进行分组</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> SubjectName,</span><span style="color:#79B8FF;">AVG</span><span style="color:#E1E4E8;">(StudentResult),</span><span style="color:#79B8FF;">MAX</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;">),</span><span style="color:#79B8FF;">MIN</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result r</span></span>
<span class="line"><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`subject`</span><span style="color:#E1E4E8;"> s</span></span>
<span class="line"><span style="color:#F97583;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">r</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">SubjectNo</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">SubjectNo</span></span>
<span class="line"><span style="color:#F97583;">GROUP BY</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">r</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">SubjectNo</span></span>
<span class="line"><span style="color:#F97583;">HAVING</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">AVG</span><span style="color:#E1E4E8;">(StudentResult)</span><span style="color:#F97583;">&gt;</span><span style="color:#79B8FF;">90</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 查询不同科目的平均分、最高分、最低分且平均分大于90</span></span>
<span class="line"><span style="color:#6A737D;">-- 核心：根据不同的课程进行分组</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> SubjectName,</span><span style="color:#005CC5;">AVG</span><span style="color:#24292E;">(StudentResult),</span><span style="color:#005CC5;">MAX</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;">),</span><span style="color:#005CC5;">MIN</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result r</span></span>
<span class="line"><span style="color:#D73A49;">INNER JOIN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`subject`</span><span style="color:#24292E;"> s</span></span>
<span class="line"><span style="color:#D73A49;">on</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">r</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">SubjectNo</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">SubjectNo</span></span>
<span class="line"><span style="color:#D73A49;">GROUP BY</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">r</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">SubjectNo</span></span>
<span class="line"><span style="color:#D73A49;">HAVING</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">AVG</span><span style="color:#24292E;">(StudentResult)</span><span style="color:#D73A49;">&gt;</span><span style="color:#005CC5;">90</span><span style="color:#24292E;">;</span></span></code></pre></div><h2 id="连接查询" tabindex="-1">连接查询 <a class="header-anchor" href="#连接查询" aria-label="Permalink to &quot;连接查询&quot;">​</a></h2><p><img src="https://img-blog.csdnimg.cn/img_convert/6354aff6ecaee8ec2f2f7ec065304889.png" alt="image-20200718231304641"></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 查询学员所属的年级（学号，学生姓名，年级名称）</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`GradeName`</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student s</span></span>
<span class="line"><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> grade g</span></span>
<span class="line"><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">GradeID</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">g</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">GradeID</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询科目所属的年级</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`SubjectName`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`GradeName`</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`subject`</span><span style="color:#E1E4E8;"> s</span></span>
<span class="line"><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`grade`</span><span style="color:#E1E4E8;"> g</span></span>
<span class="line"><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">GradeID</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">g</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">GradeID</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询列参加程序设计考试的同学信息（学号，姓名，科目名，分数）</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> s.</span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`SubjectName`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentResult`</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student s</span></span>
<span class="line"><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> result r</span></span>
<span class="line"><span style="color:#F97583;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">StudentNo</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">r</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">StudentNo</span></span>
<span class="line"><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`subject`</span><span style="color:#E1E4E8;"> sub</span></span>
<span class="line"><span style="color:#F97583;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">r</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">SubjectNo</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">sub</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">SubjectNo</span></span>
<span class="line"><span style="color:#F97583;">where</span><span style="color:#E1E4E8;"> SubjectName</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;课程设计&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 查询学员所属的年级（学号，学生姓名，年级名称）</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`GradeName`</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student s</span></span>
<span class="line"><span style="color:#D73A49;">INNER JOIN</span><span style="color:#24292E;"> grade g</span></span>
<span class="line"><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">GradeID</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">g</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">GradeID</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询科目所属的年级</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`SubjectName`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`GradeName`</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`subject`</span><span style="color:#24292E;"> s</span></span>
<span class="line"><span style="color:#D73A49;">INNER JOIN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`grade`</span><span style="color:#24292E;"> g</span></span>
<span class="line"><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">GradeID</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">g</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">GradeID</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询列参加程序设计考试的同学信息（学号，姓名，科目名，分数）</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> s.</span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`SubjectName`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentResult`</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student s</span></span>
<span class="line"><span style="color:#D73A49;">INNER JOIN</span><span style="color:#24292E;"> result r</span></span>
<span class="line"><span style="color:#D73A49;">on</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">StudentNo</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">r</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">StudentNo</span></span>
<span class="line"><span style="color:#D73A49;">INNER JOIN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`subject`</span><span style="color:#24292E;"> sub</span></span>
<span class="line"><span style="color:#D73A49;">on</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">r</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">SubjectNo</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">sub</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">SubjectNo</span></span>
<span class="line"><span style="color:#D73A49;">where</span><span style="color:#24292E;"> SubjectName</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;课程设计&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><blockquote><p><strong>自链接</strong></p></blockquote><p>自己的表和自己的表链接，核心：<strong>一张表拆分为两张一样的表即可</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 创建一个表</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">course</span><span style="color:#E1E4E8;">` (</span></span>
<span class="line"><span style="color:#9ECBFF;">`courseid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) UNSIGNED </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT COMMENT </span><span style="color:#9ECBFF;">&#39;课程id&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">`pid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;父课程id&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">`courseName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;课程名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`courseid`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">) ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB AUTO_INCREMENT</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">9</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入数据</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`course`</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`courseid`</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">`pid`</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">`courseName`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;2&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;信息技术&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;3&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;软件开发&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;4&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;3&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;数据库&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;5&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;美术设计&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;6&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;3&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;web开发&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;7&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;5&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;ps技术&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;8&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;2&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;办公信息&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 创建一个表</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">course</span><span style="color:#24292E;">` (</span></span>
<span class="line"><span style="color:#032F62;">`courseid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) UNSIGNED </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> AUTO_INCREMENT COMMENT </span><span style="color:#032F62;">&#39;课程id&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">`pid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;父课程id&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">`courseName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;课程名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`courseid`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">) ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB AUTO_INCREMENT</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">9</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入数据</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`course`</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`courseid`</span><span style="color:#24292E;">, </span><span style="color:#032F62;">`pid`</span><span style="color:#24292E;">, </span><span style="color:#032F62;">`courseName`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;信息技术&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;3&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;软件开发&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;4&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;3&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;数据库&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;5&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;美术设计&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;6&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;3&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;web开发&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;7&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;5&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;ps技术&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;8&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;办公信息&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><p>将该表进行拆分：</p><table><thead><tr><th>pid（父课程id）</th><th>courseid（课程id）</th><th>courseName（课程名）</th></tr></thead><tbody><tr><td>1</td><td>2</td><td>信息技术</td></tr><tr><td>1</td><td>3</td><td>软件开发</td></tr><tr><td>1</td><td>5</td><td>美术设计</td></tr></tbody></table><table><thead><tr><th>pid（父课程id）</th><th>courseid（课程id）</th><th>courseName（课程名）</th></tr></thead><tbody><tr><td>2</td><td>8</td><td>办公信息</td></tr><tr><td>3</td><td>4</td><td>数据库</td></tr><tr><td>3</td><td>6</td><td>web开发</td></tr><tr><td>5</td><td>7</td><td>ps技术</td></tr></tbody></table><p><strong>操作</strong>：查询父类对应的子类关系</p><table><thead><tr><th>父类</th><th>子类</th></tr></thead><tbody><tr><td>信息技术 2</td><td>办公信息 4</td></tr><tr><td>软件开发 3</td><td>数据库 4、web开发 6</td></tr><tr><td>美术设计 5</td><td>ps技术 7</td></tr></tbody></table><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> a.</span><span style="color:#9ECBFF;">`courseid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;父课程&#39;</span><span style="color:#E1E4E8;">,b.</span><span style="color:#9ECBFF;">`courseid`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;子课程&#39;</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> course </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> a,course </span><span style="color:#F97583;">AS</span><span style="color:#E1E4E8;"> b</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> a.</span><span style="color:#9ECBFF;">`courseid`</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">b.</span><span style="color:#9ECBFF;">`pid`</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> a.</span><span style="color:#032F62;">`courseid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;父课程&#39;</span><span style="color:#24292E;">,b.</span><span style="color:#032F62;">`courseid`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;子课程&#39;</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> course </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> a,course </span><span style="color:#D73A49;">AS</span><span style="color:#24292E;"> b</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> a.</span><span style="color:#032F62;">`courseid`</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">b.</span><span style="color:#032F62;">`pid`</span><span style="color:#24292E;">;</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/149c6d4bfdaea45e0a66af888e3f304c.png" alt="image-20200719105147906"></p><h2 id="排序和分页" tabindex="-1">排序和分页 <a class="header-anchor" href="#排序和分页" aria-label="Permalink to &quot;排序和分页&quot;">​</a></h2><blockquote><p><strong>排序</strong></p></blockquote><p><code>语法</code>：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">select</span><span style="color:#E1E4E8;"> 查询列表</span></span>
<span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> 表</span></span>
<span class="line"><span style="color:#F97583;">where</span><span style="color:#E1E4E8;"> 筛选条件</span></span>
<span class="line"><span style="color:#F97583;">order by</span><span style="color:#E1E4E8;"> 排序列表 </span><span style="color:#F97583;">asc/desc</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">select</span><span style="color:#24292E;"> 查询列表</span></span>
<span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> 表</span></span>
<span class="line"><span style="color:#D73A49;">where</span><span style="color:#24292E;"> 筛选条件</span></span>
<span class="line"><span style="color:#D73A49;">order by</span><span style="color:#24292E;"> 排序列表 </span><span style="color:#D73A49;">asc/desc</span></span></code></pre></div><ul><li>order by的位置一般放在查询语句的最后（除limit语句之外）</li></ul><table><thead><tr><th>asc ：</th><th>升序，如果不写默认升序</th></tr></thead><tbody><tr><td><strong>desc：</strong></td><td><strong>降序</strong></td></tr></tbody></table><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`GradeName`</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student s</span></span>
<span class="line"><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> grade g</span></span>
<span class="line"><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">GradeID</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">g</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">GradeID</span></span>
<span class="line"><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DESC</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`GradeName`</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student s</span></span>
<span class="line"><span style="color:#D73A49;">INNER JOIN</span><span style="color:#24292E;"> grade g</span></span>
<span class="line"><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">GradeID</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">g</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">GradeID</span></span>
<span class="line"><span style="color:#D73A49;">ORDER BY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DESC</span><span style="color:#24292E;">;</span></span></code></pre></div><blockquote><p><strong>分页</strong></p></blockquote><p><code>语法</code>：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">select</span><span style="color:#E1E4E8;"> 查询列表</span></span>
<span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> 表</span></span>
<span class="line"><span style="color:#F97583;">limit</span><span style="color:#E1E4E8;"> offset,pagesize;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">select</span><span style="color:#24292E;"> 查询列表</span></span>
<span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> 表</span></span>
<span class="line"><span style="color:#D73A49;">limit</span><span style="color:#24292E;"> offset,pagesize;</span></span></code></pre></div><ul><li>offset代表的是起始的条目索引，默认从0开始</li><li>size代表的是显示的条目数</li><li>offset=(n-1)*pagesize</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 第一页 limit 0 5</span></span>
<span class="line"><span style="color:#6A737D;">-- 第二页 limit 5,5</span></span>
<span class="line"><span style="color:#6A737D;">-- 第三页 limit 10,5</span></span>
<span class="line"><span style="color:#6A737D;">-- 第n页  limit (n-1)*pagesize,pagesize</span></span>
<span class="line"><span style="color:#6A737D;">-- pagesize:当前页面大小</span></span>
<span class="line"><span style="color:#6A737D;">-- (n-1)*pagesize:起始值</span></span>
<span class="line"><span style="color:#6A737D;">-- n:当前页面</span></span>
<span class="line"><span style="color:#6A737D;">-- 数据总数/页面大小=总页面数</span></span>
<span class="line"><span style="color:#6A737D;">-- limit n 表示从0到n的页面</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 第一页 limit 0 5</span></span>
<span class="line"><span style="color:#6A737D;">-- 第二页 limit 5,5</span></span>
<span class="line"><span style="color:#6A737D;">-- 第三页 limit 10,5</span></span>
<span class="line"><span style="color:#6A737D;">-- 第n页  limit (n-1)*pagesize,pagesize</span></span>
<span class="line"><span style="color:#6A737D;">-- pagesize:当前页面大小</span></span>
<span class="line"><span style="color:#6A737D;">-- (n-1)*pagesize:起始值</span></span>
<span class="line"><span style="color:#6A737D;">-- n:当前页面</span></span>
<span class="line"><span style="color:#6A737D;">-- 数据总数/页面大小=总页面数</span></span>
<span class="line"><span style="color:#6A737D;">-- limit n 表示从0到n的页面</span></span></code></pre></div><h2 id="子查询" tabindex="-1">子查询 <a class="header-anchor" href="#子查询" aria-label="Permalink to &quot;子查询&quot;">​</a></h2><p><code>本质</code>在<code>where</code>子句中嵌套一个子查询语句</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 查询‘课程设计’的所有考试结果（学号，科目编号，成绩）降序排列</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 方式一:使用连接查询</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">,r.</span><span style="color:#9ECBFF;">`SubjectNo`</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">`StudentResult`</span></span>
<span class="line"><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result r</span></span>
<span class="line"><span style="color:#F97583;">INNER JOIN</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`subject`</span><span style="color:#E1E4E8;"> s</span></span>
<span class="line"><span style="color:#F97583;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">r</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">StudentNo</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">s</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">SubjectNo</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> SubjectName</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;课程设计&#39;</span></span>
<span class="line"><span style="color:#F97583;">ORDER BY</span><span style="color:#E1E4E8;"> StudentResult </span><span style="color:#F97583;">DESC</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- 方式二:使用子查询（由里到外）</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> StudentNo,SubjectNo,StudentResult</span></span>
<span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> result</span></span>
<span class="line"><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> SubjectNo</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> SubjectNo </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`subject`</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> SubjectName</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;课程设计&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 查询‘课程设计’的所有考试结果（学号，科目编号，成绩）降序排列</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 方式一:使用连接查询</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">,r.</span><span style="color:#032F62;">`SubjectNo`</span><span style="color:#24292E;">,</span><span style="color:#032F62;">`StudentResult`</span></span>
<span class="line"><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result r</span></span>
<span class="line"><span style="color:#D73A49;">INNER JOIN</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`subject`</span><span style="color:#24292E;"> s</span></span>
<span class="line"><span style="color:#D73A49;">on</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">r</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">StudentNo</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">s</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">SubjectNo</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> SubjectName</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;课程设计&#39;</span></span>
<span class="line"><span style="color:#D73A49;">ORDER BY</span><span style="color:#24292E;"> StudentResult </span><span style="color:#D73A49;">DESC</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">-- 方式二:使用子查询（由里到外）</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> StudentNo,SubjectNo,StudentResult</span></span>
<span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> SubjectNo</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> SubjectNo </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`subject`</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> SubjectName</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;课程设计&#39;</span></span>
<span class="line"><span style="color:#24292E;">)</span></span></code></pre></div><h2 id="mysql函数" tabindex="-1">MySQL函数 <a class="header-anchor" href="#mysql函数" aria-label="Permalink to &quot;MySQL函数&quot;">​</a></h2><h3 id="常用函数" tabindex="-1">常用函数 <a class="header-anchor" href="#常用函数" aria-label="Permalink to &quot;常用函数&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 数学运算</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ABS</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">8</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 绝对值</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> CEIL(</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 向上取整</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">CEILING</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 向上取整</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">RAND</span><span style="color:#E1E4E8;">(); </span><span style="color:#6A737D;">-- 返回0~1之间的一个随机数</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">SIGN</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 返回一个数的符号;0返回0;正数返回1;负数返回-1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 字符串函数</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> CHAR_LENGTH(</span><span style="color:#9ECBFF;">&#39;我喜欢你&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 字符串长度</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">CONCAT</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;我&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;喜欢&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;你&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 拼接字符串</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INSERT</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;我喜欢&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;超级&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">-- INSERT(str,pos,len,newstr) 从str的pos位置开始替换为长度为len的newstr</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">UPPER</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;zsr&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 转大写</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">LOWER</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;ZSR&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 转小写</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> INSTR(</span><span style="color:#9ECBFF;">&#39;zsrs&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;s&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 返回第一次出现字串索引的位置</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">REPLACE</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;加油就能胜利&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;加油&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;坚持&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 替换出现的指定字符串</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> SUBSTR(</span><span style="color:#9ECBFF;">&#39;坚持就是胜利&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">6</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 返回指定的字符串(源字符串,截取位置,截取长度)</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">REVERSE</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;rsz&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 反转字符串</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 时间日期函数</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> CURRENT_DATE(); </span><span style="color:#6A737D;">-- 获取当前日期</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> CURDATE(); </span><span style="color:#6A737D;">-- 获取当前日期</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">now</span><span style="color:#E1E4E8;">(); </span><span style="color:#6A737D;">-- 获取当前时间</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> LOCALTIME(); </span><span style="color:#6A737D;">-- 本地时间</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SYSDATE</span><span style="color:#E1E4E8;">(); </span><span style="color:#6A737D;">-- 系统时间</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">YEAR</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">MONTH</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">DAY</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">HOUR</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">MINUTE</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SECOND</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">NOW</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 系统信息</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">SYSTEM_USER</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> USER();</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VERSION</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 数学运算</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ABS</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">8</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 绝对值</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> CEIL(</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 向上取整</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">CEILING</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 向上取整</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">RAND</span><span style="color:#24292E;">(); </span><span style="color:#6A737D;">-- 返回0~1之间的一个随机数</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">SIGN</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 返回一个数的符号;0返回0;正数返回1;负数返回-1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 字符串函数</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> CHAR_LENGTH(</span><span style="color:#032F62;">&#39;我喜欢你&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 字符串长度</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">CONCAT</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;我&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;喜欢&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;你&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 拼接字符串</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INSERT</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;我喜欢&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;超级&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">-- INSERT(str,pos,len,newstr) 从str的pos位置开始替换为长度为len的newstr</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">UPPER</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;zsr&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 转大写</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">LOWER</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;ZSR&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 转小写</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> INSTR(</span><span style="color:#032F62;">&#39;zsrs&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;s&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 返回第一次出现字串索引的位置</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">REPLACE</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;加油就能胜利&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;加油&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;坚持&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 替换出现的指定字符串</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> SUBSTR(</span><span style="color:#032F62;">&#39;坚持就是胜利&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">6</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 返回指定的字符串(源字符串,截取位置,截取长度)</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">REVERSE</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;rsz&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 反转字符串</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 时间日期函数</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> CURRENT_DATE(); </span><span style="color:#6A737D;">-- 获取当前日期</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> CURDATE(); </span><span style="color:#6A737D;">-- 获取当前日期</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">now</span><span style="color:#24292E;">(); </span><span style="color:#6A737D;">-- 获取当前时间</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> LOCALTIME(); </span><span style="color:#6A737D;">-- 本地时间</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SYSDATE</span><span style="color:#24292E;">(); </span><span style="color:#6A737D;">-- 系统时间</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">YEAR</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">NOW</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MONTH</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">NOW</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">DAY</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">NOW</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">HOUR</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">NOW</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">MINUTE</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">NOW</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SECOND</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">NOW</span><span style="color:#24292E;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 系统信息</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">SYSTEM_USER</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> USER();</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VERSION</span><span style="color:#24292E;">();</span></span></code></pre></div><h3 id="聚合函数" tabindex="-1">聚合函数 <a class="header-anchor" href="#聚合函数" aria-label="Permalink to &quot;聚合函数&quot;">​</a></h3><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>max</td><td>最大值</td></tr><tr><td>min</td><td>最小值</td></tr><tr><td>sum</td><td>和</td></tr><tr><td>avg</td><td>平均值</td></tr><tr><td>count</td><td>计算个数</td></tr></tbody></table><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(StudentName) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student; </span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">COUNT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">SUM</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">AVG</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">MAX</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">MIN</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentResult`</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> result;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">COUNT</span><span style="color:#24292E;">(StudentName) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student; </span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">COUNT</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student;</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">COUNT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">SUM</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">AVG</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MAX</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">MIN</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentResult`</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> result;</span></span></code></pre></div><h1 id="数据库级别的md5加密" tabindex="-1">数据库级别的MD5加密 <a class="header-anchor" href="#数据库级别的md5加密" aria-label="Permalink to &quot;数据库级别的MD5加密&quot;">​</a></h1><blockquote><p><strong>MD5信息摘要算法</strong>（MD5 Message-Digest Algorithm）</p></blockquote><ul><li>MD5由MD4、MD3、MD2改进而来，主要增强算法复杂度和不可逆性</li><li>MD5破解网站的原理，背后有一个字典，MD5加密后的值，加密前的值</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">testMD5</span><span style="color:#E1E4E8;">`(</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">INNODB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 明文密码</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`testMD5`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;zsr&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;200024&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;gcc&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;000421&#39;</span><span style="color:#E1E4E8;">),(</span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;bareth&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;123456&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 加密</span></span>
<span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`testMD5`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">MD5(pwd) WHE RE id</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">UPDATE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`testMD5`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">MD5(pwd); </span><span style="color:#6A737D;">-- 加密全部的密码</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入的时候加密</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`testMD5`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">,</span><span style="color:#9ECBFF;">&#39;barry&#39;</span><span style="color:#E1E4E8;">,MD5(</span><span style="color:#9ECBFF;">&#39;654321&#39;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 如何校验:将用户传递进来的密码，进行MD5加密，然后对比加密后的值</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`testMD5`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`name`</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;barry&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">AND</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`pwd`</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">MD5(</span><span style="color:#9ECBFF;">&#39;654321&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">testMD5</span><span style="color:#24292E;">`(</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`name`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`pwd`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">INNODB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET </span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 明文密码</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`testMD5`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;zsr&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;200024&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;gcc&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;000421&#39;</span><span style="color:#24292E;">),(</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;bareth&#39;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;123456&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 加密</span></span>
<span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`testMD5`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`pwd`</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">MD5(pwd) WHE RE id</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">UPDATE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`testMD5`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`pwd`</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">MD5(pwd); </span><span style="color:#6A737D;">-- 加密全部的密码</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入的时候加密</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`testMD5`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&#39;barry&#39;</span><span style="color:#24292E;">,MD5(</span><span style="color:#032F62;">&#39;654321&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 如何校验:将用户传递进来的密码，进行MD5加密，然后对比加密后的值</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`testMD5`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`name`</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;barry&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">AND</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`pwd`</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">MD5(</span><span style="color:#032F62;">&#39;654321&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><h1 id="事务" tabindex="-1">事务 <a class="header-anchor" href="#事务" aria-label="Permalink to &quot;事务&quot;">​</a></h1><blockquote><p><strong>要么都成功，要么都失败</strong></p></blockquote><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">SQL执行：A转账给B</span></span>
<span class="line"><span style="color:#E1E4E8;">SQL执行：B收到A的钱</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">SQL执行：A转账给B</span></span>
<span class="line"><span style="color:#24292E;">SQL执行：B收到A的钱</span></span></code></pre></div><p>将一组SQL放在一个批次中去执行</p><ul><li>例如银行转账：只有A转账成功且B成功到账，该事件才算结束，如果一方不成功，则该事务不成功</li></ul><h2 id="事务原则-acid" tabindex="-1">事务原则：ACID <a class="header-anchor" href="#事务原则-acid" aria-label="Permalink to &quot;事务原则：ACID&quot;">​</a></h2><p>参考链接：<a href="https://blog.csdn.net/dengjili/article/details/82468576" target="_blank" rel="noreferrer">https://blog.csdn.net/dengjili/article/details/82468576</a></p><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td><strong>原子性（Atomicity）</strong></td><td>原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。</td></tr><tr><td><strong>一致性（Consistency）</strong></td><td>事务前后数据的完整性必须保持一致。</td></tr><tr><td><strong>隔离性（Isolation）</strong></td><td>事务的隔离性是多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作数据所干扰，多个并发事务之间要相互隔离。</td></tr><tr><td><strong>持久性（Durability）</strong></td><td>事务一旦被提交则不可逆，被持久化到数据库中，接下来即使数据库发生故障也不应该对其有任何影响</td></tr></tbody></table><hr><h2 id="事务并发导致的问题" tabindex="-1">事务并发导致的问题 <a class="header-anchor" href="#事务并发导致的问题" aria-label="Permalink to &quot;事务并发导致的问题&quot;">​</a></h2><blockquote><p>隔离所导致的一些问题：</p></blockquote><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td><strong>脏读</strong></td><td>指一个事务读取了另外一个事务未提交的数据。</td></tr><tr><td><strong>不可重复读</strong></td><td>在一个事务内读取表中的某一行数据，多次读取结果不同。</td></tr><tr><td><strong>虚读(幻读)</strong></td><td>是指在一个事务内读取到了别的事务插入的数据，导致前后读取不一致。</td></tr></tbody></table><hr><h2 id="隔离级别" tabindex="-1">隔离级别 <a class="header-anchor" href="#隔离级别" aria-label="Permalink to &quot;隔离级别&quot;">​</a></h2><blockquote><p>在数据库操作中，为了有效保证并发读取数据的正确性，提出的<strong>事务隔离级别</strong></p></blockquote><ul><li><p><strong>读未提交</strong>：一个事务读取到其他事务未提交的数据；这种隔离级别下，查询不会加锁，一致性最差，会产生<code>脏读</code>、<code>不可重复读</code>、<code>幻读</code>的问题</p></li><li><p><strong>读已提交</strong>：一个事务只能读取到其他事务已经提交的数据；该隔离级别避免了<code>脏读</code>问题的产生，但是<code>不可重复读</code>和<code>幻读</code>的问题仍然存在；</p><p>读提交事务隔离级别是大多数流行数据库的默认事务隔离级别，比如 Oracle，但是不是 MySQL 的默认隔离界别</p></li><li><p><strong>可重复读</strong>：事务在执行过程中可以读取到其他事务已提交的新插入的数据，但是不能读取其他事务对数据的修改，也就是说多次读取同一记录的结果相同；该个里级别避免了<code>脏读</code>、<code>不可重复度</code>的问题，但是仍然无法避免<code>幻读</code>的问题</p><p>可重复读是MySQL默认的隔离级别</p></li><li><p><strong>串行化</strong>：事务串行化执行，事务只能一个接着一个地执行,、，并且在执行过程中完全看不到其他事务对数据所做的更新；缺点是并发能力差，最严格的事务隔离，完全符合ACID原则，但是对性能影响比较大</p></li></ul><table><thead><tr><th><strong>事务隔离级别</strong></th><th><strong>脏读</strong></th><th><strong>不可重复读</strong></th><th><strong>幻读</strong></th></tr></thead><tbody><tr><td>读未提交（read-uncommitted）</td><td>是</td><td>是</td><td>是</td></tr><tr><td>读已提交（read-committed）</td><td>否</td><td>是</td><td>是</td></tr><tr><td>可重复读（repeatable-read）</td><td>否</td><td>否</td><td>是</td></tr><tr><td>串行化（serializable）</td><td>否</td><td>否</td><td>否</td></tr></tbody></table><h2 id="执行事务的过程" tabindex="-1">执行事务的过程 <a class="header-anchor" href="#执行事务的过程" aria-label="Permalink to &quot;执行事务的过程&quot;">​</a></h2><p>1️⃣ <strong>关闭自动提交</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> autocommit</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> autocommit</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span></code></pre></div><p>2️⃣ <strong>事务开启</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">START TRANSACTION</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">-- 标记一个事务的开始，从这个之后的sql都在同一个事务内</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">START TRANSACTION</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">-- 标记一个事务的开始，从这个之后的sql都在同一个事务内</span></span></code></pre></div><p>3️⃣ <strong>成功则提交，失败则回滚</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 提交：持久化（成功）</span></span>
<span class="line"><span style="color:#F97583;">COMMIT</span></span>
<span class="line"><span style="color:#79B8FF;">12</span></span>
<span class="line"><span style="color:#6A737D;">-- 回滚：回到原来的样子（失败）</span></span>
<span class="line"><span style="color:#F97583;">ROLLBACK</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 提交：持久化（成功）</span></span>
<span class="line"><span style="color:#D73A49;">COMMIT</span></span>
<span class="line"><span style="color:#005CC5;">12</span></span>
<span class="line"><span style="color:#6A737D;">-- 回滚：回到原来的样子（失败）</span></span>
<span class="line"><span style="color:#D73A49;">ROLLBACK</span></span></code></pre></div><p>4️⃣ <strong>事务结束</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> autocommit</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">-- 开启自动提交</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> autocommit</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">-- 开启自动提交</span></span></code></pre></div><p>5️⃣ <strong>其他操作</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">SAVEPOINT 保存点名; </span><span style="color:#6A737D;">-- 设置一个事务的保存点</span></span>
<span class="line"><span style="color:#F97583;">ROLLBACK</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> SAVEPOINT 保存点名; </span><span style="color:#6A737D;">-- 回滚到保存点</span></span>
<span class="line"><span style="color:#E1E4E8;">RELEASE SAVEPOINT 保存点名; </span><span style="color:#6A737D;">-- 撤销保存点</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">SAVEPOINT 保存点名; </span><span style="color:#6A737D;">-- 设置一个事务的保存点</span></span>
<span class="line"><span style="color:#D73A49;">ROLLBACK</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TO</span><span style="color:#24292E;"> SAVEPOINT 保存点名; </span><span style="color:#6A737D;">-- 回滚到保存点</span></span>
<span class="line"><span style="color:#24292E;">RELEASE SAVEPOINT 保存点名; </span><span style="color:#6A737D;">-- 撤销保存点</span></span></code></pre></div><h1 id="索引" tabindex="-1">索引 <a class="header-anchor" href="#索引" aria-label="Permalink to &quot;索引&quot;">​</a></h1><p>推荐阅读：<a href="http://blog.codinglabs.org/articles/theory-of-mysql-index.html" target="_blank" rel="noreferrer">MySQL索引背后的数据结构及算法原理</a></p><blockquote><p>索引（<code>Index</code>）是帮助MySQL高效获取数据的<strong>数据结构</strong>。</p></blockquote><ul><li>提高查询速度</li><li>确保数据的唯一性</li><li>可以加速表和表之间的连接 , 实现表与表之间的参照完整性</li><li>使用分组和排序子句进行数据检索时 , 可以显著减少分组和排序的时间</li><li>全文检索字段进行搜索优化</li></ul><hr><h2 id="索引的分类" tabindex="-1">索引的分类 <a class="header-anchor" href="#索引的分类" aria-label="Permalink to &quot;索引的分类&quot;">​</a></h2><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 创建学生表student</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">student</span><span style="color:#E1E4E8;">`(	</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;学号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`LoginPwd`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;学生姓名&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`Sex`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TINYINT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;性别,取值0或1&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`GradeID`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">11</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年级编号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`Phone`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;联系电话,允许为空,即可选输入&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`Adress`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">255</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;地址,允许为空,即可选输入&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`BornDate`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DATETIME</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;出生时间&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`Email`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;邮箱账号,允许为空,即可选输入&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#9ECBFF;">`IdentityCard`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;身份证号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`StudentNo`</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">UNIQUE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">KEY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`IdentityCard`</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`IdentityCard`</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">KEY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`Email`</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`Email`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">MYISAM </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 创建学生表student</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">student</span><span style="color:#24292E;">`(	</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;学号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`LoginPwd`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;学生姓名&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`Sex`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TINYINT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;性别,取值0或1&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`GradeID`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年级编号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`Phone`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;联系电话,允许为空,即可选输入&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`Adress`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">255</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;地址,允许为空,即可选输入&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`BornDate`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATETIME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;出生时间&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`Email`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;邮箱账号,允许为空,即可选输入&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#032F62;">`IdentityCard`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">18</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;身份证号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`StudentNo`</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">UNIQUE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">KEY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`IdentityCard`</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`IdentityCard`</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">KEY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`Email`</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`Email`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">MYISAM </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8;</span></span></code></pre></div><h3 id="主键索引-primary-key" tabindex="-1">主键索引（PRIMARY KEY） <a class="header-anchor" href="#主键索引-primary-key" aria-label="Permalink to &quot;主键索引（PRIMARY KEY）&quot;">​</a></h3><p>唯一的标识，主键不可重复，只有一个列作为主键</p><ul><li>最常见的索引类型，不允许为空值</li><li>确保数据记录的唯一性</li><li>确定特定数据记录在数据库中的位置</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 创建表的时候指定主键索引</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tableName</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  ......</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">PRIMARY</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> (columeName)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表结构添加主键索引</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> tableName </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PRIMARY</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> (columnName)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 创建表的时候指定主键索引</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tableName</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  ......</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">PRIMARY</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> (columeName)</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表结构添加主键索引</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> tableName </span><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">PRIMARY</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> (columnName)</span></span></code></pre></div><hr><h3 id="普通索引-key-index" tabindex="-1">普通索引（KEY / INDEX） <a class="header-anchor" href="#普通索引-key-index" aria-label="Permalink to &quot;普通索引（KEY / INDEX）&quot;">​</a></h3><p>默认的，快速定位特定数据</p><ul><li>index 和 key 关键字都可以设置常规索引</li><li>应加在查询找条件的字段</li><li>不宜添加太多常规索引,影响数据的插入,删除和修改操作</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 直接创建普通索引</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">indexName</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> tableName (columnName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建表的时候指定普通索引</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tableName</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  ......</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> [indexName] (columeName)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表结构添加普通索引</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> tableName </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> indexName(columnName)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 直接创建普通索引</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">indexName</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> tableName (columnName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建表的时候指定普通索引</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tableName</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  ......</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> [indexName] (columeName)</span></span>
<span class="line"><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表结构添加普通索引</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> tableName </span><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> indexName(columnName)</span></span></code></pre></div><hr><h3 id="唯一索引-unique-key" tabindex="-1">唯一索引（UNIQUE KEY） <a class="header-anchor" href="#唯一索引-unique-key" aria-label="Permalink to &quot;唯一索引（UNIQUE KEY）&quot;">​</a></h3><p>它与前面的普通索引类似，不同的就是：索引列的值必须唯一，但允许有空值</p><p>与主键索引的区别：主键索引只能有一个、唯一索引可以有多个</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 直接创建唯一索引</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">UNIQUE INDEX</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">indexName</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> tableName(columnName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建表的时候指定唯一索引</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tableName</span><span style="color:#E1E4E8;">(  </span></span>
<span class="line"><span style="color:#E1E4E8;">	......</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">UNIQUE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> [indexName] (columeName)  </span></span>
<span class="line"><span style="color:#E1E4E8;">);  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表结构添加唯一索引</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> tableName </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">UNIQUE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> [indexName] (columnName)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 直接创建唯一索引</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">UNIQUE INDEX</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">indexName</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> tableName(columnName)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 创建表的时候指定唯一索引</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tableName</span><span style="color:#24292E;">(  </span></span>
<span class="line"><span style="color:#24292E;">	......</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">UNIQUE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> [indexName] (columeName)  </span></span>
<span class="line"><span style="color:#24292E;">);  </span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改表结构添加唯一索引</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> tableName </span><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">UNIQUE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> [indexName] (columnName)</span></span></code></pre></div><hr><h3 id="全文索引-fulltext" tabindex="-1">全文索引（FULLText） <a class="header-anchor" href="#全文索引-fulltext" aria-label="Permalink to &quot;全文索引（FULLText）&quot;">​</a></h3><p>快速定位特定数据（百度搜索就是全文索引）</p><ul><li>在特定的数据库引擎下才有：MyISAM</li><li>只能用于CHAR , VARCHAR , TEXT数据列类型</li><li>适合大型数据集</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 增加一个全文索引</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FULLTEXT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- EXPLAIN 分析sql执行的情况</span></span>
<span class="line"><span style="color:#E1E4E8;">EXPLAIN </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student; </span><span style="color:#6A737D;">-- 非全文索引</span></span>
<span class="line"><span style="color:#E1E4E8;">EXPLAIN </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> MATCH(StudentName) AGAINST(</span><span style="color:#9ECBFF;">&#39;d&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 全文索引</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 增加一个全文索引</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FULLTEXT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- EXPLAIN 分析sql执行的情况</span></span>
<span class="line"><span style="color:#24292E;">EXPLAIN </span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student; </span><span style="color:#6A737D;">-- 非全文索引</span></span>
<span class="line"><span style="color:#24292E;">EXPLAIN </span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> MATCH(StudentName) AGAINST(</span><span style="color:#032F62;">&#39;d&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 全文索引</span></span></code></pre></div><h2 id="索引的使用" tabindex="-1">索引的使用 <a class="header-anchor" href="#索引的使用" aria-label="Permalink to &quot;索引的使用&quot;">​</a></h2><h3 id="索引的创建" tabindex="-1">索引的创建 <a class="header-anchor" href="#索引的创建" aria-label="Permalink to &quot;索引的创建&quot;">​</a></h3><ul><li>在创建表的时候给字段增加索引</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">表名</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    字段名1 数据类型 [完整性约束条件…],</span></span>
<span class="line"><span style="color:#E1E4E8;">    字段名2 数据类型 [完整性约束条件…],</span></span>
<span class="line"><span style="color:#E1E4E8;">    [UNIQUE|FULLTEXT|SPATIAL] </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;">|</span><span style="color:#F97583;">KEY</span><span style="color:#E1E4E8;"> [索引名] (字段名[(长度)] [ASC |DESC])</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">表名</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    字段名1 数据类型 [完整性约束条件…],</span></span>
<span class="line"><span style="color:#24292E;">    字段名2 数据类型 [完整性约束条件…],</span></span>
<span class="line"><span style="color:#24292E;">    [UNIQUE|FULLTEXT|SPATIAL] </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;">|</span><span style="color:#D73A49;">KEY</span><span style="color:#24292E;"> [索引名] (字段名[(长度)] [ASC |DESC])</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div><ul><li>创建完毕后，增加索引</li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 方法一：CREATE在已存在的表上创建索引</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> [UNIQUE|FULLTEXT|SPATIAL] </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> 索引名</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> 表名 (字段名[(长度)] [ASC |DESC]) ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 方法二：ALTER TABLE在已存在的表上创建索引</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> [UNIQUE|FULLTEXT|SPATIAL] </span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> 索引名 (字段名[(长度)] [ASC |DESC]) ;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 方法一：CREATE在已存在的表上创建索引</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> [UNIQUE|FULLTEXT|SPATIAL] </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> 索引名</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> 表名 (字段名[(长度)] [ASC |DESC]) ;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 方法二：ALTER TABLE在已存在的表上创建索引</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> [UNIQUE|FULLTEXT|SPATIAL] </span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> 索引名 (字段名[(长度)] [ASC |DESC]) ;</span></span></code></pre></div><h3 id="索引的删除" tabindex="-1">索引的删除 <a class="header-anchor" href="#索引的删除" aria-label="Permalink to &quot;索引的删除&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 删除索引</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> 索引名 </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> 表名;</span></span>
<span class="line"><span style="color:#6A737D;">-- 删除主键索引</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> 表名 </span><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 删除索引</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> 索引名 </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> 表名;</span></span>
<span class="line"><span style="color:#6A737D;">-- 删除主键索引</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> 表名 </span><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;">;</span></span></code></pre></div><h3 id="显示索引信息" tabindex="-1">显示索引信息 <a class="header-anchor" href="#显示索引信息" aria-label="Permalink to &quot;显示索引信息&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">SHOW </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> 表名;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">SHOW </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> 表名;</span></span></code></pre></div><h3 id="explain分析sql执行的情况" tabindex="-1">explain分析sql执行的情况 <a class="header-anchor" href="#explain分析sql执行的情况" aria-label="Permalink to &quot;explain分析sql执行的情况&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 增加一个全文索引</span></span>
<span class="line"><span style="color:#F97583;">ALTER</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`student`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ADD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FULLTEXT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`StudentName`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- EXPLAIN 分析sql执行的情况</span></span>
<span class="line"><span style="color:#E1E4E8;">EXPLAIN </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student; </span><span style="color:#6A737D;">-- 非全文索引</span></span>
<span class="line"><span style="color:#E1E4E8;">EXPLAIN </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> student </span><span style="color:#F97583;">WHERE</span><span style="color:#E1E4E8;"> MATCH(StudentName) AGAINST(</span><span style="color:#9ECBFF;">&#39;d&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">-- 全文索引</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 增加一个全文索引</span></span>
<span class="line"><span style="color:#D73A49;">ALTER</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`student`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ADD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FULLTEXT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`StudentName`</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- EXPLAIN 分析sql执行的情况</span></span>
<span class="line"><span style="color:#24292E;">EXPLAIN </span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student; </span><span style="color:#6A737D;">-- 非全文索引</span></span>
<span class="line"><span style="color:#24292E;">EXPLAIN </span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> student </span><span style="color:#D73A49;">WHERE</span><span style="color:#24292E;"> MATCH(StudentName) AGAINST(</span><span style="color:#032F62;">&#39;d&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">-- 全文索引</span></span></code></pre></div><hr><h2 id="测试索引" tabindex="-1">测试索引 <a class="header-anchor" href="#测试索引" aria-label="Permalink to &quot;测试索引&quot;">​</a></h2><p><strong>建表app_user：</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> `</span><span style="color:#B392F0;">app_user</span><span style="color:#E1E4E8;">` (</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">bigint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) unsigned </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;用户昵称&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`email`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;用户邮箱&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`phone`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;手机号&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`gender`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">tinyint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) unsigned </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;0&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;性别（0:男；1：女）&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`password`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">varchar</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">NOT NULL</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;密码&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`age`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">tinyint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">4</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;0&#39;</span><span style="color:#E1E4E8;"> COMMENT </span><span style="color:#9ECBFF;">&#39;年龄&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`create_time`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">datetime</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CURRENT_TIMESTAMP,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">`update_time`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">timestamp</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">NULL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CURRENT_TIMESTAMP </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> UPDATECURRENT_TIMESTAMP,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">`id`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">) ENGINE</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">InnoDB </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> CHARSET</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">utf8mb4 COMMENT</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;app用户表&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">app_user</span><span style="color:#24292E;">` (</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`id`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">bigint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) unsigned </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`name`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;用户昵称&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`email`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;用户邮箱&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`phone`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;手机号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`gender`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">tinyint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) unsigned </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;0&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;性别（0:男；1：女）&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`password`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;密码&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`age`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">tinyint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;0&#39;</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年龄&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`create_time`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">datetime</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CURRENT_TIMESTAMP,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">`update_time`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">timestamp</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CURRENT_TIMESTAMP </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> UPDATECURRENT_TIMESTAMP,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">) ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">InnoDB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8mb4 COMMENT</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;app用户表&#39;</span></span></code></pre></div><p><strong>批量插入数据：100w</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 1418错解决方案(创建函数前执行此语句)</span></span>
<span class="line"><span style="color:#F97583;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">global</span><span style="color:#E1E4E8;"> log_bin_trust_function_creators</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">true;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入100万条数据</span></span>
<span class="line"><span style="color:#E1E4E8;">DELIMITER $$	</span><span style="color:#6A737D;">-- 写函数之前要写的标志</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FUNCTION</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">mock_data</span><span style="color:#E1E4E8;">()	</span><span style="color:#6A737D;">-- 创建mock_data()函数</span></span>
<span class="line"><span style="color:#F97583;">RETURNS</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INT</span></span>
<span class="line"><span style="color:#F97583;">BEGIN</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">DECLARE</span><span style="color:#E1E4E8;"> num </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1000000</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">DECLARE</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">DEFAULT</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">WHILE</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> num DO</span></span>
<span class="line"><span style="color:#E1E4E8;">  		</span><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> app_user(</span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">`email`</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">`phone`</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">`gender`</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">`password`</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">`age`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   		</span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">CONCAT</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;用户&#39;</span><span style="color:#E1E4E8;">, i), </span><span style="color:#9ECBFF;">&#39;24736743@qq.com&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">CONCAT</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;18&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">FLOOR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">RAND</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">999999999</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">100000000</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">+</span><span style="color:#79B8FF;">100000000</span><span style="color:#E1E4E8;">)),</span><span style="color:#79B8FF;">FLOOR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">RAND</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">*</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">),UUID(), </span><span style="color:#79B8FF;">FLOOR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">RAND</span><span style="color:#E1E4E8;">()</span><span style="color:#F97583;">*</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">  		</span><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">END</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">WHILE</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">RETURN</span><span style="color:#E1E4E8;"> i;</span></span>
<span class="line"><span style="color:#F97583;">END</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 执行函数</span></span>
<span class="line"><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> mock_data();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 1418错解决方案(创建函数前执行此语句)</span></span>
<span class="line"><span style="color:#D73A49;">set</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">global</span><span style="color:#24292E;"> log_bin_trust_function_creators</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">true;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 插入100万条数据</span></span>
<span class="line"><span style="color:#24292E;">DELIMITER $$	</span><span style="color:#6A737D;">-- 写函数之前要写的标志</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FUNCTION</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">mock_data</span><span style="color:#24292E;">()	</span><span style="color:#6A737D;">-- 创建mock_data()函数</span></span>
<span class="line"><span style="color:#D73A49;">RETURNS</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span></span>
<span class="line"><span style="color:#D73A49;">BEGIN</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">DECLARE</span><span style="color:#24292E;"> num </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000000</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">DECLARE</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">WHILE</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> num DO</span></span>
<span class="line"><span style="color:#24292E;">  		</span><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> app_user(</span><span style="color:#032F62;">`name`</span><span style="color:#24292E;">, </span><span style="color:#032F62;">`email`</span><span style="color:#24292E;">, </span><span style="color:#032F62;">`phone`</span><span style="color:#24292E;">, </span><span style="color:#032F62;">`gender`</span><span style="color:#24292E;">, </span><span style="color:#032F62;">`password`</span><span style="color:#24292E;">, </span><span style="color:#032F62;">`age`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   		</span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">CONCAT</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;用户&#39;</span><span style="color:#24292E;">, i), </span><span style="color:#032F62;">&#39;24736743@qq.com&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">CONCAT</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;18&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">FLOOR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">RAND</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">999999999</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">100000000</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">100000000</span><span style="color:#24292E;">)),</span><span style="color:#005CC5;">FLOOR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">RAND</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">),UUID(), </span><span style="color:#005CC5;">FLOOR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">RAND</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">  		</span><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">END</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">WHILE</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">RETURN</span><span style="color:#24292E;"> i;</span></span>
<span class="line"><span style="color:#D73A49;">END</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 执行函数</span></span>
<span class="line"><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> mock_data();</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/df271eca3feb9ab506aaed611ef6f087.png" alt="image-20210327101253258"><img src="https://img-blog.csdnimg.cn/img_convert/2d3b3bfa01475754f69c4386a214a73a.png" alt="image-20210327101316627"></p><p><strong>测试查询速度</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 查询用户名为&#39;用户9999&#39;性能分析</span></span>
<span class="line"><span style="color:#E1E4E8;">EXPLAIN </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> app_user </span><span style="color:#F97583;">where</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name=</span><span style="color:#9ECBFF;">&#39;用户99999&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 查询用户名为&#39;用户9999&#39;性能分析</span></span>
<span class="line"><span style="color:#24292E;">EXPLAIN </span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> app_user </span><span style="color:#D73A49;">where</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name=</span><span style="color:#032F62;">&#39;用户99999&#39;</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/70f2c32ec8c3bbdf6ea0c922108f8d8c.png" alt="image-20210327101912627"></p><p><strong>增加索引后测试</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 给name列创建常规索引</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">INDEX</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id_app_user_name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> app_user(</span><span style="color:#9ECBFF;">`name`</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#6A737D;">-- 再测试</span></span>
<span class="line"><span style="color:#E1E4E8;">EXPLAIN </span><span style="color:#F97583;">SELECT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> app_user </span><span style="color:#F97583;">where</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">name=</span><span style="color:#9ECBFF;">&#39;用户99999&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 给name列创建常规索引</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INDEX</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id_app_user_name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> app_user(</span><span style="color:#032F62;">`name`</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6A737D;">-- 再测试</span></span>
<span class="line"><span style="color:#24292E;">EXPLAIN </span><span style="color:#D73A49;">SELECT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> app_user </span><span style="color:#D73A49;">where</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">name=</span><span style="color:#032F62;">&#39;用户99999&#39;</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/cd50fa7b12a659d31ffc32e0ef15e20f.png" alt="image-20210327102830560"> 对比两次结果，速度有了很大的提升</p><hr><h2 id="索引原则" tabindex="-1">索引原则 <a class="header-anchor" href="#索引原则" aria-label="Permalink to &quot;索引原则&quot;">​</a></h2><ul><li>索引不是越多越好，小数据量的表不需要加索引</li><li>不要对经常变动的数据增加索引</li><li>索引一般加在经常要查询的列上</li></ul><hr><h1 id="explain关键字" tabindex="-1">explain关键字 <a class="header-anchor" href="#explain关键字" aria-label="Permalink to &quot;explain关键字&quot;">​</a></h1><p><strong>建议阅读</strong>：</p><ul><li><a href="https://blog.csdn.net/jiadajing267/article/details/81269067" target="_blank" rel="noreferrer">MySQL优化——看懂explain</a></li><li><a href="https://blog.csdn.net/wuseyukui/article/details/71512793?dist_request_id=&amp;depth_1-" target="_blank" rel="noreferrer">MySQL高级 之 explain执行计划详解</a></li></ul><hr><h1 id="权限管理和备份" tabindex="-1">权限管理和备份 <a class="header-anchor" href="#权限管理和备份" aria-label="Permalink to &quot;权限管理和备份&quot;">​</a></h1><h2 id="用户管理" tabindex="-1">用户管理 <a class="header-anchor" href="#用户管理" aria-label="Permalink to &quot;用户管理&quot;">​</a></h2><p><strong>方式一：可视化管理</strong><img src="https://img-blog.csdnimg.cn/img_convert/26c44c01a054ac4476a6cb2eafb768ff.png" alt="image-20210327123000095"></p><hr><p><strong>方式二：SQL命令操作</strong></p><blockquote><p>用户信息存储在<code>mysql</code>数据库的<code>user</code>表中，对用户的管理本质上就是对这张表进行增删改查</p><p><img src="https://img-blog.csdnimg.cn/img_convert/134b75187269c5e003fd98902cfc959e.png" alt="image-20210327123240942"></p></blockquote><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">-- 创建用户</span></span>
<span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">zsr</span><span style="color:#E1E4E8;"> IDENTIFIED </span><span style="color:#F97583;">BY</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;123456&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除用户</span></span>
<span class="line"><span style="color:#F97583;">DROP</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">USER</span><span style="color:#E1E4E8;"> zsr</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改当前用户密码</span></span>
<span class="line"><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PASSWORD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PASSWORD</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;200024&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改指定用户密码</span></span>
<span class="line"><span style="color:#F97583;">SET</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PASSWORD</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FOR</span><span style="color:#E1E4E8;"> zsr </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PASSWORD</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;200024&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 重命名</span></span>
<span class="line"><span style="color:#E1E4E8;">RENAME USER zsr </span><span style="color:#F97583;">to</span><span style="color:#E1E4E8;"> zsr2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 用户授权(授予全部权限,除了给其他用户授权)</span></span>
<span class="line"><span style="color:#F97583;">GRANT</span><span style="color:#E1E4E8;"> ALL	PRIVILEGES </span><span style="color:#F97583;">on</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TO</span><span style="color:#E1E4E8;"> zsr2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询权限</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW GRANTS </span><span style="color:#F97583;">FOR</span><span style="color:#E1E4E8;"> zsr</span></span>
<span class="line"><span style="color:#6A737D;">-- 查看root用户权限</span></span>
<span class="line"><span style="color:#E1E4E8;">SHOW GRANTS </span><span style="color:#F97583;">FOR</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">root</span><span style="color:#E1E4E8;">@localhost</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 撤销权限</span></span>
<span class="line"><span style="color:#F97583;">REVOKE</span><span style="color:#E1E4E8;"> ALL PRIVILEGES </span><span style="color:#F97583;">ON</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;">.</span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FROM</span><span style="color:#E1E4E8;"> zsr</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">-- 创建用户</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">USER</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">zsr</span><span style="color:#24292E;"> IDENTIFIED </span><span style="color:#D73A49;">BY</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;123456&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 删除用户</span></span>
<span class="line"><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">USER</span><span style="color:#24292E;"> zsr</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改当前用户密码</span></span>
<span class="line"><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">PASSWORD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">PASSWORD</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;200024&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 修改指定用户密码</span></span>
<span class="line"><span style="color:#D73A49;">SET</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">PASSWORD</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FOR</span><span style="color:#24292E;"> zsr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">PASSWORD</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;200024&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 重命名</span></span>
<span class="line"><span style="color:#24292E;">RENAME USER zsr </span><span style="color:#D73A49;">to</span><span style="color:#24292E;"> zsr2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 用户授权(授予全部权限,除了给其他用户授权)</span></span>
<span class="line"><span style="color:#D73A49;">GRANT</span><span style="color:#24292E;"> ALL	PRIVILEGES </span><span style="color:#D73A49;">on</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TO</span><span style="color:#24292E;"> zsr2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 查询权限</span></span>
<span class="line"><span style="color:#24292E;">SHOW GRANTS </span><span style="color:#D73A49;">FOR</span><span style="color:#24292E;"> zsr</span></span>
<span class="line"><span style="color:#6A737D;">-- 查看root用户权限</span></span>
<span class="line"><span style="color:#24292E;">SHOW GRANTS </span><span style="color:#D73A49;">FOR</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">root</span><span style="color:#24292E;">@localhost</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">-- 撤销权限</span></span>
<span class="line"><span style="color:#D73A49;">REVOKE</span><span style="color:#24292E;"> ALL PRIVILEGES </span><span style="color:#D73A49;">ON</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">*</span><span style="color:#24292E;">.</span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FROM</span><span style="color:#24292E;"> zsr</span></span></code></pre></div><hr><h2 id="数据库备份" tabindex="-1">数据库备份 <a class="header-anchor" href="#数据库备份" aria-label="Permalink to &quot;数据库备份&quot;">​</a></h2><p>保证重要的数据不丢失、数据转义</p><blockquote><p><strong>方式一</strong>：直接拷贝物理文件，MySQL数据表以文件方式存放在磁盘中</p></blockquote><ul><li><p>包括表文件 , 数据文件 , 以及数据库的选项文件</p></li><li><p>位置 : <code>Mysql安装目录\data\</code>（目录名对应数据库名 , 该目录下文件名对应数据表）</p><p><img src="https://img-blog.csdnimg.cn/img_convert/7e7cc8befc1537b12c9f7dfd10279114.png" alt="image-20210327125528006"></p></li></ul><blockquote><p><strong>方式二</strong>：可视化管理</p></blockquote><p>Navicat打开要备份的数据库，然后点击新建备份 <img src="https://img-blog.csdnimg.cn/img_convert/e4240bd95dec14b565b1d86cb1c5c915.png" alt="image-20210327125911151"> 点击对象选择，这里可以自定义选择备份的表 <img src="https://img-blog.csdnimg.cn/img_convert/3e6c95e2806746c38d0e8627682f6163.png" alt="image-20210327130024058"> 选择完毕后，点击备份即可开始备份 <img src="https://img-blog.csdnimg.cn/img_convert/8f920ac3f3ad125e54e4f3f10328cbee.png" alt="image-20210327130134693"><img src="https://img-blog.csdnimg.cn/img_convert/eeaeff9e0dd440f6dc4df763f5804845.png" alt="image-20210327130213947"> 等待备份完成，关闭，然后便可看到备份的文件 <img src="https://img-blog.csdnimg.cn/img_convert/056debcb95166ac3195a993db6a9b63b.png" alt="image-20210327130245251"></p><blockquote><p><strong>方式三</strong>：可视化管理</p></blockquote><p>选中要导出的表，右键转储SQL文件 <img src="https://img-blog.csdnimg.cn/img_convert/da7feae09141b97f48ef3133a7385baa.png" alt="image-20210327131239931"> 然就就可以得到<code>.sql</code>文件 <img src="https://img-blog.csdnimg.cn/img_convert/4d4c9b1c3da14f4fccaf7e4ad0b5c6f5.png" alt="image-20210327131430300"></p><blockquote><p><strong>方式四</strong>：命令<code>mysqldump</code>导出</p></blockquote><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># mysqldump -h主机 -u用户名 -p密码 数据库 [表1 表2 表3] &gt;物理磁盘位置/文件名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 导出school数据库的cource grade student表到D:/school.sql</span></span>
<span class="line"><span style="color:#B392F0;">mysqldump</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-hlocalhost</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-uroot</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p200024</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">school</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">course</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">grade</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">student</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">D:/school.sql</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># mysqldump -h主机 -u用户名 -p密码 数据库 [表1 表2 表3] &gt;物理磁盘位置/文件名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 导出school数据库的cource grade student表到D:/school.sql</span></span>
<span class="line"><span style="color:#6F42C1;">mysqldump</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-hlocalhost</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-uroot</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p200024</span><span style="color:#24292E;"> </span><span style="color:#032F62;">school</span><span style="color:#24292E;"> </span><span style="color:#032F62;">course</span><span style="color:#24292E;"> </span><span style="color:#032F62;">grade</span><span style="color:#24292E;"> </span><span style="color:#032F62;">student</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">D:/school.sql</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/5443e1fbd169e2c1e387cb4da76d0b8e.png" alt="image-20210327132011402"> 然后便可看到导出的<code>sql</code>文件 <img src="https://img-blog.csdnimg.cn/img_convert/4f8735b65d95ecd8db7fcdb3da763e4f.png" alt="image-20210327132043857"> 然后可以命令行登录mysql，切换到指定的数据库，用<code>source</code>命令导入 <img src="https://img-blog.csdnimg.cn/img_convert/17b6a505af032cce78c98488f1baa215.png" alt="image-20210327132439737"></p><hr><h1 id="三大范式" tabindex="-1">三大范式 <a class="header-anchor" href="#三大范式" aria-label="Permalink to &quot;三大范式&quot;">​</a></h1><blockquote><p><strong>规范化理论</strong>：改造关系模式，通过分解关系模式来消除其中不合适的数据依赖，以解决插入异常、删除异常、更新异常和数据冗余的问题。</p><p>为了建立冗余较小、结构合理的数据库，设计数据库时必须遵循一定规范化理论。在关系型数据库中这种规则就称为<code>范式</code></p></blockquote><p><a href="https://www.cnblogs.com/wsg25/p/9615100.html" target="_blank" rel="noreferrer">三大范式的通俗理解</a></p><ul><li>如果一个关系模式R的所有属性都是不可分的数据项，则R属于<code>第一范式</code></li><li>如果关系模式R属于第一范式，且每一个非主属性完全函数依赖于码，则R属于<code>第二范式</code></li><li>若关系模式R属于第二范式，且R中所有的非主属性都直接依赖于码，则R属于<code>第三范式</code></li></ul><p><img src="https://gitee.com/zhong_siru/images/raw/master//img/image-20210325220605636.png" alt="image-20210325220605636"></p><p><strong>规范性问题</strong>：</p><blockquote><p>数据库的范式是为了规范数据库的设计，但是实际中相比规范性，往往更需要看中性能、成本、用户体验等问题；</p><p>因此有时会故意给某些表增加一个冗余的字段，使多表查询变为单表查询。有时还会增加一些计算列，从大数据量变为小数据量（数据量大时，count(*)很耗时，可以直接添加一列，每增加一行+1，查该列即可）；阿里也曾提出关联查询的表最多不超过三张表。</p><p>这些就是为了性能、成本而舍弃一定规范性的例子</p></blockquote><hr><h1 id="数据库驱动和jdbc" tabindex="-1">数据库驱动和JDBC <a class="header-anchor" href="#数据库驱动和jdbc" aria-label="Permalink to &quot;数据库驱动和JDBC&quot;">​</a></h1><blockquote><p>我们编写的程序会通过<strong>数据库驱动</strong>来和数据库进行交互</p><p>然后不同的数据库有不同的驱动，这不便于我们程序对各种数据库进行操作；因此为了简化对不同数据库的操作，SUN公司提供了一个Java操作数据库的规范<code>JDBC</code>；不同数据库的规范由对应的数据库厂商完成，对于开发人员，只需要掌握JDBC接口的操作即可</p></blockquote><h2 id="第一个jdbc程序" tabindex="-1">第一个JDBC程序 <a class="header-anchor" href="#第一个jdbc程序" aria-label="Permalink to &quot;第一个JDBC程序&quot;">​</a></h2><p>1️⃣ <strong>新建空项目</strong></p><p><img src="https://img-blog.csdnimg.cn/img_convert/2a6f4995962d7719b5f341ac0d2bfabe.png" alt="image-20210327153130998"></p><p>2️⃣ <strong>导入mysql-connector-java</strong></p><p>在项目目录下新建<code>lib</code>目录，放入jar包 <img src="https://gitee.com/zhong_siru/images/raw/master//img/image-20210327153240818.png" alt="image-20210327153240818"><img src="https://img-blog.csdnimg.cn/img_convert/44dc09d9bf971bd3dc0c72cfe8aab10d.png" alt="image-20210327153343389"><img src="https://img-blog.csdnimg.cn/img_convert/8b6b89c5197b0356215aa9aed1cbd964.png" alt="image-20210327153457419"></p><p>3️⃣ <strong>编写代码&amp;测试</strong></p><p>在<code>src</code>目录下新建<code>JDBCDemo</code>用来操作数据库</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">JDBCDemo</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">throws</span><span style="color:#E1E4E8;"> ClassNotFoundException, SQLException {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//1.加载驱动</span></span>
<span class="line"><span style="color:#E1E4E8;">        Class.</span><span style="color:#B392F0;">forName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//2.连接信息url,用户信息</span></span>
<span class="line"><span style="color:#E1E4E8;">        String url </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;jdbc:mysql://localhost:3306/school?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTimezone=UTC&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        String username </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;root&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        String password </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;200024&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//3.连接,获得数据库对象connection</span></span>
<span class="line"><span style="color:#E1E4E8;">        Connection connection </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> DriverManager.</span><span style="color:#B392F0;">getConnection</span><span style="color:#E1E4E8;">(url, username, password);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//4.获取执行sql的对象</span></span>
<span class="line"><span style="color:#E1E4E8;">        Statement statement </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> connection.</span><span style="color:#B392F0;">createStatement</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//5.执行sql</span></span>
<span class="line"><span style="color:#E1E4E8;">        String sql </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;select * from app_user where id&lt;10&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        ResultSet resultSet </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> statement.</span><span style="color:#B392F0;">executeQuery</span><span style="color:#E1E4E8;">(sql);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;"> (resultSet.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;id:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> resultSet.</span><span style="color:#B392F0;">getObject</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;phone:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> resultSet.</span><span style="color:#B392F0;">getObject</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;phone&quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//6.释放连接</span></span>
<span class="line"><span style="color:#E1E4E8;">        resultSet.</span><span style="color:#B392F0;">close</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        statement.</span><span style="color:#B392F0;">close</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        connection.</span><span style="color:#B392F0;">close</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">JDBCDemo</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">throws</span><span style="color:#24292E;"> ClassNotFoundException, SQLException {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//1.加载驱动</span></span>
<span class="line"><span style="color:#24292E;">        Class.</span><span style="color:#6F42C1;">forName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//2.连接信息url,用户信息</span></span>
<span class="line"><span style="color:#24292E;">        String url </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;jdbc:mysql://localhost:3306/school?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTimezone=UTC&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        String username </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;root&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        String password </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;200024&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//3.连接,获得数据库对象connection</span></span>
<span class="line"><span style="color:#24292E;">        Connection connection </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> DriverManager.</span><span style="color:#6F42C1;">getConnection</span><span style="color:#24292E;">(url, username, password);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//4.获取执行sql的对象</span></span>
<span class="line"><span style="color:#24292E;">        Statement statement </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> connection.</span><span style="color:#6F42C1;">createStatement</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//5.执行sql</span></span>
<span class="line"><span style="color:#24292E;">        String sql </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;select * from app_user where id&lt;10&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        ResultSet resultSet </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> statement.</span><span style="color:#6F42C1;">executeQuery</span><span style="color:#24292E;">(sql);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (resultSet.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">            System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> resultSet.</span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;phone:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> resultSet.</span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;phone&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//6.释放连接</span></span>
<span class="line"><span style="color:#24292E;">        resultSet.</span><span style="color:#6F42C1;">close</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        statement.</span><span style="color:#6F42C1;">close</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        connection.</span><span style="color:#6F42C1;">close</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/30ae5d967e49cdbf74b4677938952fc1.png" alt="image-20210327155209907"></p><hr><h2 id="jdbc对象" tabindex="-1">JDBC对象 <a class="header-anchor" href="#jdbc对象" aria-label="Permalink to &quot;JDBC对象&quot;">​</a></h2><h3 id="drivermanager" tabindex="-1">DriverManager <a class="header-anchor" href="#drivermanager" aria-label="Permalink to &quot;DriverManager&quot;">​</a></h3><blockquote><p><strong>DriverManager</strong>：驱动管理</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">//1.加载驱动</span></span>
<span class="line"><span style="color:#E1E4E8;">Class.</span><span style="color:#B392F0;">forName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//1.加载驱动</span></span>
<span class="line"><span style="color:#24292E;">Class.</span><span style="color:#6F42C1;">forName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span style="color:#24292E;">);</span></span></code></pre></div><p>本质上执行<code>DriverManager.registerDriver(new com.mysql.cj.jdbc.Driver());</code></p><p><img src="" alt="image-20210327161110925"></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">//3.连接,获得数据库对象connection</span></span>
<span class="line"><span style="color:#E1E4E8;">Connection connection </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> DriverManager.</span><span style="color:#B392F0;">getConnection</span><span style="color:#E1E4E8;">(url, username, password);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//3.连接,获得数据库对象connection</span></span>
<span class="line"><span style="color:#24292E;">Connection connection </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> DriverManager.</span><span style="color:#6F42C1;">getConnection</span><span style="color:#24292E;">(url, username, password);</span></span></code></pre></div><p><code>connection</code>代表数据库，因此可以设置事务自动提交，事务回滚等</p><p><img src="https://img-blog.csdnimg.cn/img_convert/3e5b382f0710809439ab5f7cee170872.png" alt="image-20210327161507445"></p><hr><h3 id="statement" tabindex="-1">Statement <a class="header-anchor" href="#statement" aria-label="Permalink to &quot;Statement&quot;">​</a></h3><blockquote><p><strong>Statement</strong>：执行sql的对象，用于向数据库发送SQL语句，想完成对数据库的增删改査，只需要通过这个对象向数据库发送增删改查语句即可</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">statement.</span><span style="color:#B392F0;">executeQuery</span><span style="color:#E1E4E8;">();</span><span style="color:#6A737D;">//查询操作,返回结果</span></span>
<span class="line"><span style="color:#E1E4E8;">statement.</span><span style="color:#B392F0;">execute</span><span style="color:#E1E4E8;">();</span><span style="color:#6A737D;">//执行sql</span></span>
<span class="line"><span style="color:#E1E4E8;">statement.</span><span style="color:#B392F0;">executeUpdate</span><span style="color:#E1E4E8;">();</span><span style="color:#6A737D;">//用于增删改,返回受影响的行数</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">statement.</span><span style="color:#6F42C1;">executeQuery</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//查询操作,返回结果</span></span>
<span class="line"><span style="color:#24292E;">statement.</span><span style="color:#6F42C1;">execute</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//执行sql</span></span>
<span class="line"><span style="color:#24292E;">statement.</span><span style="color:#6F42C1;">executeUpdate</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//用于增删改,返回受影响的行数</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/aa5a397f6e2e376c7e16dbba106e88b6.png" alt="image-20210327162622201"><img src="https://img-blog.csdnimg.cn/img_convert/c4587e04579f25dc58864ccfed3184f4.png" alt="image-20210327162705203"></p><hr><h3 id="resultset" tabindex="-1">ResultSet <a class="header-anchor" href="#resultset" aria-label="Permalink to &quot;ResultSet&quot;">​</a></h3><blockquote><p><strong>ResultSet</strong>：查询的结果集，封装了所有查询的结果</p></blockquote><p><img src="https://img-blog.csdnimg.cn/img_convert/ac1a33619a7021011df6025a57f18ec3.png" alt="image-20210327162307420"></p><hr><h2 id="_3-封装jdbc工具类" tabindex="-1">3. 封装jdbc工具类 <a class="header-anchor" href="#_3-封装jdbc工具类" aria-label="Permalink to &quot;3. 封装jdbc工具类&quot;">​</a></h2><h3 id="编写数据库配置文件" tabindex="-1">编写数据库配置文件 <a class="header-anchor" href="#编写数据库配置文件" aria-label="Permalink to &quot;编写数据库配置文件&quot;">​</a></h3><p>在<code>src</code>目录下新建<code>db.properties</code>，用于存放数据库配置信息 <img src="https://img-blog.csdnimg.cn/img_convert/aa2ecaf2738632a4b75d2c70e417f8c1.png" alt="image-20210327165924876"></p><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">driver</span><span style="color:#E1E4E8;">=com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#F97583;">url</span><span style="color:#E1E4E8;">=jdbc:mysql://localhost:3306/school?</span><span style="color:#F97583;">useUnicode</span><span style="color:#E1E4E8;">=true&amp;</span><span style="color:#F97583;">characterEncoding</span><span style="color:#E1E4E8;">=utf8&amp;</span><span style="color:#F97583;">useSSL</span><span style="color:#E1E4E8;">=true&amp;</span><span style="color:#F97583;">serverTimezone</span><span style="color:#E1E4E8;">=UTC</span></span>
<span class="line"><span style="color:#F97583;">username</span><span style="color:#E1E4E8;">=root</span></span>
<span class="line"><span style="color:#F97583;">password</span><span style="color:#E1E4E8;">=200024</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">driver</span><span style="color:#24292E;">=com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#D73A49;">url</span><span style="color:#24292E;">=jdbc:mysql://localhost:3306/school?</span><span style="color:#D73A49;">useUnicode</span><span style="color:#24292E;">=true&amp;</span><span style="color:#D73A49;">characterEncoding</span><span style="color:#24292E;">=utf8&amp;</span><span style="color:#D73A49;">useSSL</span><span style="color:#24292E;">=true&amp;</span><span style="color:#D73A49;">serverTimezone</span><span style="color:#24292E;">=UTC</span></span>
<span class="line"><span style="color:#D73A49;">username</span><span style="color:#24292E;">=root</span></span>
<span class="line"><span style="color:#D73A49;">password</span><span style="color:#24292E;">=200024</span></span></code></pre></div><hr><h3 id="编写工具类" tabindex="-1">编写工具类 <a class="header-anchor" href="#编写工具类" aria-label="Permalink to &quot;编写工具类&quot;">​</a></h3><p>然后再<code>src</code>目录下新建<code>JDBCUtils.java</code>作为工具类</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.io.InputStream;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.util.Properties;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">JDBCUtils</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> String driver </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> String url </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> String username </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> String password </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            InputStream inputStream </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> JDBCDemo.class.</span><span style="color:#B392F0;">getClassLoader</span><span style="color:#E1E4E8;">().</span><span style="color:#B392F0;">getResourceAsStream</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;db.properties&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">            Properties properties </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Properties</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            properties.</span><span style="color:#B392F0;">load</span><span style="color:#E1E4E8;">(inputStream);</span></span>
<span class="line"><span style="color:#E1E4E8;">            driver </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> properties.</span><span style="color:#B392F0;">getProperty</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;driver&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">            url </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> properties.</span><span style="color:#B392F0;">getProperty</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;url&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">            username </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> properties.</span><span style="color:#B392F0;">getProperty</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;username&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">            password </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> properties.</span><span style="color:#B392F0;">getProperty</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;password&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#6A737D;">//加载驱动</span></span>
<span class="line"><span style="color:#E1E4E8;">            Class.</span><span style="color:#B392F0;">forName</span><span style="color:#E1E4E8;">(driver);</span></span>
<span class="line"><span style="color:#E1E4E8;">        } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Exception </span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            e.</span><span style="color:#B392F0;">printStackTrace</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//获取连接</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> Connection </span><span style="color:#B392F0;">getConnection</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">throws</span><span style="color:#E1E4E8;"> SQLException {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> DriverManager.</span><span style="color:#B392F0;">getConnection</span><span style="color:#E1E4E8;">(url, username, password);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//释放连接资源</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">release</span><span style="color:#E1E4E8;">(Connection </span><span style="color:#FFAB70;">connection</span><span style="color:#E1E4E8;">, Statement </span><span style="color:#FFAB70;">statement</span><span style="color:#E1E4E8;">, ResultSet </span><span style="color:#FFAB70;">resultSet</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (resultSet </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                resultSet.</span><span style="color:#B392F0;">close</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (SQLException </span><span style="color:#FFAB70;">throwables</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">                throwables.</span><span style="color:#B392F0;">printStackTrace</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (statement </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                statement.</span><span style="color:#B392F0;">close</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (SQLException </span><span style="color:#FFAB70;">throwables</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">                throwables.</span><span style="color:#B392F0;">printStackTrace</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (connection </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                connection.</span><span style="color:#B392F0;">close</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (SQLException </span><span style="color:#FFAB70;">throwables</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">                throwables.</span><span style="color:#B392F0;">printStackTrace</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.io.InputStream;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.util.Properties;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">JDBCUtils</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> String driver </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> String url </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> String username </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> String password </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            InputStream inputStream </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> JDBCDemo.class.</span><span style="color:#6F42C1;">getClassLoader</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">getResourceAsStream</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;db.properties&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            Properties properties </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Properties</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            properties.</span><span style="color:#6F42C1;">load</span><span style="color:#24292E;">(inputStream);</span></span>
<span class="line"><span style="color:#24292E;">            driver </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> properties.</span><span style="color:#6F42C1;">getProperty</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;driver&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            url </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> properties.</span><span style="color:#6F42C1;">getProperty</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;url&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            username </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> properties.</span><span style="color:#6F42C1;">getProperty</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;username&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            password </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> properties.</span><span style="color:#6F42C1;">getProperty</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;password&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6A737D;">//加载驱动</span></span>
<span class="line"><span style="color:#24292E;">            Class.</span><span style="color:#6F42C1;">forName</span><span style="color:#24292E;">(driver);</span></span>
<span class="line"><span style="color:#24292E;">        } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Exception </span><span style="color:#E36209;">e</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            e.</span><span style="color:#6F42C1;">printStackTrace</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//获取连接</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> Connection </span><span style="color:#6F42C1;">getConnection</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">throws</span><span style="color:#24292E;"> SQLException {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> DriverManager.</span><span style="color:#6F42C1;">getConnection</span><span style="color:#24292E;">(url, username, password);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//释放连接资源</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">release</span><span style="color:#24292E;">(Connection </span><span style="color:#E36209;">connection</span><span style="color:#24292E;">, Statement </span><span style="color:#E36209;">statement</span><span style="color:#24292E;">, ResultSet </span><span style="color:#E36209;">resultSet</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (resultSet </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                resultSet.</span><span style="color:#6F42C1;">close</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (SQLException </span><span style="color:#E36209;">throwables</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">                throwables.</span><span style="color:#6F42C1;">printStackTrace</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (statement </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                statement.</span><span style="color:#6F42C1;">close</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (SQLException </span><span style="color:#E36209;">throwables</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">                throwables.</span><span style="color:#6F42C1;">printStackTrace</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (connection </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                connection.</span><span style="color:#6F42C1;">close</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (SQLException </span><span style="color:#E36209;">throwables</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">                throwables.</span><span style="color:#6F42C1;">printStackTrace</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><hr><h3 id="测试" tabindex="-1">测试 <a class="header-anchor" href="#测试" aria-label="Permalink to &quot;测试&quot;">​</a></h3><p>修改<code>JDBCDemo</code></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">JDBCDemo</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">throws</span><span style="color:#E1E4E8;"> SQLException {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//获得数据库对象connection</span></span>
<span class="line"><span style="color:#E1E4E8;">        Connection connection </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> JDBCUtils.</span><span style="color:#B392F0;">getConnection</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//获取sql执行对象statement</span></span>
<span class="line"><span style="color:#E1E4E8;">        Statement statement </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> connection.</span><span style="color:#B392F0;">createStatement</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//执行sql</span></span>
<span class="line"><span style="color:#E1E4E8;">        String sql </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;select * from app_user where id&lt;10&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        ResultSet resultSet </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> statement.</span><span style="color:#B392F0;">executeQuery</span><span style="color:#E1E4E8;">(sql);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;"> (resultSet.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;id:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> resultSet.</span><span style="color:#B392F0;">getObject</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;phone:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> resultSet.</span><span style="color:#B392F0;">getObject</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;phone&quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//释放连接</span></span>
<span class="line"><span style="color:#E1E4E8;">        JDBCUtils.</span><span style="color:#B392F0;">release</span><span style="color:#E1E4E8;">(connection, statement, resultSet);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">JDBCDemo</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">throws</span><span style="color:#24292E;"> SQLException {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//获得数据库对象connection</span></span>
<span class="line"><span style="color:#24292E;">        Connection connection </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> JDBCUtils.</span><span style="color:#6F42C1;">getConnection</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//获取sql执行对象statement</span></span>
<span class="line"><span style="color:#24292E;">        Statement statement </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> connection.</span><span style="color:#6F42C1;">createStatement</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//执行sql</span></span>
<span class="line"><span style="color:#24292E;">        String sql </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;select * from app_user where id&lt;10&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        ResultSet resultSet </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> statement.</span><span style="color:#6F42C1;">executeQuery</span><span style="color:#24292E;">(sql);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (resultSet.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">            System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> resultSet.</span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;phone:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> resultSet.</span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;phone&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//释放连接</span></span>
<span class="line"><span style="color:#24292E;">        JDBCUtils.</span><span style="color:#6F42C1;">release</span><span style="color:#24292E;">(connection, statement, resultSet);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/d22fdb27412e8514d878f28053d4f820.png" alt="image-20210327171418601"></p><hr><h2 id="sql注入问题" tabindex="-1">SQL注入问题 <a class="header-anchor" href="#sql注入问题" aria-label="Permalink to &quot;SQL注入问题&quot;">​</a></h2><blockquote><p>SQL注入即是指<a href="https://baike.baidu.com/item/web%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/2498090" target="_blank" rel="noreferrer">web应用程序</a>对用户输入数据的合法性没有判断或过滤不严，攻击者可以在web应用程序中事先定义好的查询语句的结尾上添加额外的<a href="https://baike.baidu.com/item/SQL%E8%AF%AD%E5%8F%A5/5714895" target="_blank" rel="noreferrer">SQL语句</a>，在管理员不知情的情况下实现非法操作，以此来实现欺骗<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1%E5%99%A8/613818" target="_blank" rel="noreferrer">数据库服务器</a>执行非授权的任意查询，从而进一步得到相应的数据信息。</p></blockquote><p><strong>sql注入案例</strong>：主函数中传入用户名，查找指定名字用户信息</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.Connection;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.ResultSet;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.SQLException;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.Statement;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SQLInjection</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">throws</span><span style="color:#E1E4E8;"> SQLException {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">searchName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;&#39; or &#39;1=1&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//查找指定名字用户信息</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">searchName</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">username</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">throws</span><span style="color:#E1E4E8;"> SQLException {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//获得数据库对象connection</span></span>
<span class="line"><span style="color:#E1E4E8;">        Connection connection </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> JDBCUtils.</span><span style="color:#B392F0;">getConnection</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//获取sql执行对象statement</span></span>
<span class="line"><span style="color:#E1E4E8;">        Statement statement </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> connection.</span><span style="color:#B392F0;">createStatement</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//执行sql</span></span>
<span class="line"><span style="color:#E1E4E8;">        String sql </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;select * from app_user where name=&#39;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> username </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&#39;&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        ResultSet resultSet </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> statement.</span><span style="color:#B392F0;">executeQuery</span><span style="color:#E1E4E8;">(sql);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;"> (resultSet.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;id:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> resultSet.</span><span style="color:#B392F0;">getObject</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;phone:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> resultSet.</span><span style="color:#B392F0;">getObject</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;phone&quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//释放连接</span></span>
<span class="line"><span style="color:#E1E4E8;">        JDBCUtils.</span><span style="color:#B392F0;">release</span><span style="color:#E1E4E8;">(connection, statement, resultSet);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.Connection;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.ResultSet;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.SQLException;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.Statement;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SQLInjection</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">throws</span><span style="color:#24292E;"> SQLException {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">searchName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;&#39; or &#39;1=1&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//查找指定名字用户信息</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">searchName</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">username</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">throws</span><span style="color:#24292E;"> SQLException {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//获得数据库对象connection</span></span>
<span class="line"><span style="color:#24292E;">        Connection connection </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> JDBCUtils.</span><span style="color:#6F42C1;">getConnection</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//获取sql执行对象statement</span></span>
<span class="line"><span style="color:#24292E;">        Statement statement </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> connection.</span><span style="color:#6F42C1;">createStatement</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//执行sql</span></span>
<span class="line"><span style="color:#24292E;">        String sql </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;select * from app_user where name=&#39;&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> username </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&#39;&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        ResultSet resultSet </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> statement.</span><span style="color:#6F42C1;">executeQuery</span><span style="color:#24292E;">(sql);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (resultSet.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">            System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> resultSet.</span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;phone:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> resultSet.</span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;phone&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//释放连接</span></span>
<span class="line"><span style="color:#24292E;">        JDBCUtils.</span><span style="color:#6F42C1;">release</span><span style="color:#24292E;">(connection, statement, resultSet);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><strong>结果</strong>：查询到了数据库中所有的数据 <img src="https://img-blog.csdnimg.cn/img_convert/fa46b5cd881946e10066ced5b621f8b7.png" alt="image-20210327173159454"> 这里传入一个不是用户名，而是一个不合法字符串，却获取到了全部的数据，为什么呢？</p><p>拼接整条sql语句是<code>select * from app_user where name=&#39; &#39; or &#39;1==1&#39;</code>，其中<code>1==1</code>永远是真的，所以该sql语句相当于查询表中所有的数据；这就是sql注入，主要是字符串拼接引起的问题，十分危险！！</p><hr><h2 id="preparedstatement对象" tabindex="-1">PreparedStatement对象 <a class="header-anchor" href="#preparedstatement对象" aria-label="Permalink to &quot;PreparedStatement对象&quot;">​</a></h2><blockquote><p><code>PreparedStatement</code>是<code>Statement</code>的子类，与其相比，可以防止SQL注入，并且效率更高</p></blockquote><p>同样测试sql注入案例</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.</span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SQLInjection</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">throws</span><span style="color:#E1E4E8;"> SQLException {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">searchName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;&#39; &#39;or &#39;1=1&#39;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//登录</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">searchName</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">username</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">throws</span><span style="color:#E1E4E8;"> SQLException {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//获得数据库对象connection</span></span>
<span class="line"><span style="color:#E1E4E8;">        Connection connection </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> JDBCUtils.</span><span style="color:#B392F0;">getConnection</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//获取sql执行对象preparedStatement(预编译sql,先写不执行,参数用?表示)</span></span>
<span class="line"><span style="color:#E1E4E8;">        PreparedStatement preparedStatement </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> connection.</span><span style="color:#B392F0;">prepareStatement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;select * from app_user where name=?&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//手动传参</span></span>
<span class="line"><span style="color:#E1E4E8;">        preparedStatement.</span><span style="color:#B392F0;">setString</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, username);</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//执行sql</span></span>
<span class="line"><span style="color:#E1E4E8;">        ResultSet resultSet </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> preparedStatement.</span><span style="color:#B392F0;">executeQuery</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;"> (resultSet.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            System.out.</span><span style="color:#B392F0;">println</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;id:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> resultSet.</span><span style="color:#B392F0;">getObject</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;phone:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> resultSet.</span><span style="color:#B392F0;">getObject</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;phone&quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//释放连接</span></span>
<span class="line"><span style="color:#E1E4E8;">        JDBCUtils.</span><span style="color:#B392F0;">release</span><span style="color:#E1E4E8;">(connection, preparedStatement, resultSet);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.</span><span style="color:#005CC5;">*</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SQLInjection</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">throws</span><span style="color:#24292E;"> SQLException {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">searchName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;&#39; &#39;or &#39;1=1&#39;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//登录</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">searchName</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">username</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">throws</span><span style="color:#24292E;"> SQLException {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//获得数据库对象connection</span></span>
<span class="line"><span style="color:#24292E;">        Connection connection </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> JDBCUtils.</span><span style="color:#6F42C1;">getConnection</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//获取sql执行对象preparedStatement(预编译sql,先写不执行,参数用?表示)</span></span>
<span class="line"><span style="color:#24292E;">        PreparedStatement preparedStatement </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> connection.</span><span style="color:#6F42C1;">prepareStatement</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;select * from app_user where name=?&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//手动传参</span></span>
<span class="line"><span style="color:#24292E;">        preparedStatement.</span><span style="color:#6F42C1;">setString</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, username);</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//执行sql</span></span>
<span class="line"><span style="color:#24292E;">        ResultSet resultSet </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> preparedStatement.</span><span style="color:#6F42C1;">executeQuery</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (resultSet.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">            System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> resultSet.</span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;phone:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> resultSet.</span><span style="color:#6F42C1;">getObject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;phone&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//释放连接</span></span>
<span class="line"><span style="color:#24292E;">        JDBCUtils.</span><span style="color:#6F42C1;">release</span><span style="color:#24292E;">(connection, preparedStatement, resultSet);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/1a164b75b1a4e030974f32f4ed8cec42.png" alt="image-20210327180032468"> 根据结果，PreparedStatement对象完美避免了sql注入问题</p><hr><h2 id="事务案例" tabindex="-1">事务案例 <a class="header-anchor" href="#事务案例" aria-label="Permalink to &quot;事务案例&quot;">​</a></h2><p>首先创建account表</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">CREATE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">TABLE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">account</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">	id </span><span style="color:#F97583;">INT</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">PRIMARY KEY</span><span style="color:#E1E4E8;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">VARCHAR</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">40</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">money</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">FLOAT</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> account(</span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;">,</span><span style="color:#F97583;">money</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;A&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> account(</span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;">,</span><span style="color:#F97583;">money</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;B&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">INSERT INTO</span><span style="color:#E1E4E8;"> account(</span><span style="color:#F97583;">name</span><span style="color:#E1E4E8;">,</span><span style="color:#F97583;">money</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">VALUES</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;C&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">account</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">	id </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">40</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">money</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">FLOAT</span></span>
<span class="line"><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> account(</span><span style="color:#D73A49;">name</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">money</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;A&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> account(</span><span style="color:#D73A49;">name</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">money</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;B&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> account(</span><span style="color:#D73A49;">name</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">money</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;C&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">);</span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/img_convert/fb7a765f6b6d077503fb3ac8fe2971c7.png" alt="image-20210414235806762"> 然后编写Java代码</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.Connection;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.PreparedStatement;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.SQLException;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> java.sql.Statement;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">TestTransaction</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">[] </span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">throws</span><span style="color:#E1E4E8;"> SQLException {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//获得数据库对象connection</span></span>
<span class="line"><span style="color:#E1E4E8;">        Connection connection </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> JDBCUtils.</span><span style="color:#B392F0;">getConnection</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//关闭数据库自动提交,即开启事务</span></span>
<span class="line"><span style="color:#E1E4E8;">        connection.</span><span style="color:#B392F0;">setAutoCommit</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">        String sql1 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;update account set money = money+100 where name = &#39;A&#39; &quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        String sql2 </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;update account set money = money-100 where name = &#39;B&#39; &quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//获取sql执行对象preparedStatement</span></span>
<span class="line"><span style="color:#E1E4E8;">        PreparedStatement preparedStatement </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> connection.</span><span style="color:#B392F0;">prepareStatement</span><span style="color:#E1E4E8;">(sql1);</span></span>
<span class="line"><span style="color:#E1E4E8;">        preparedStatement.</span><span style="color:#B392F0;">executeUpdate</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        preparedStatement </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> connection.</span><span style="color:#B392F0;">prepareStatement</span><span style="color:#E1E4E8;">(sql2);</span></span>
<span class="line"><span style="color:#E1E4E8;">        preparedStatement.</span><span style="color:#B392F0;">executeUpdate</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//业务完毕,提交事务</span></span>
<span class="line"><span style="color:#E1E4E8;">        connection.</span><span style="color:#B392F0;">commit</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">//释放资源</span></span>
<span class="line"><span style="color:#E1E4E8;">        JDBCUtils.</span><span style="color:#B392F0;">release</span><span style="color:#E1E4E8;">(connection, preparedStatement, </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.Connection;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.PreparedStatement;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.SQLException;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> java.sql.Statement;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TestTransaction</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">throws</span><span style="color:#24292E;"> SQLException {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//获得数据库对象connection</span></span>
<span class="line"><span style="color:#24292E;">        Connection connection </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> JDBCUtils.</span><span style="color:#6F42C1;">getConnection</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//关闭数据库自动提交,即开启事务</span></span>
<span class="line"><span style="color:#24292E;">        connection.</span><span style="color:#6F42C1;">setAutoCommit</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        String sql1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;update account set money = money+100 where name = &#39;A&#39; &quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        String sql2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;update account set money = money-100 where name = &#39;B&#39; &quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//获取sql执行对象preparedStatement</span></span>
<span class="line"><span style="color:#24292E;">        PreparedStatement preparedStatement </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> connection.</span><span style="color:#6F42C1;">prepareStatement</span><span style="color:#24292E;">(sql1);</span></span>
<span class="line"><span style="color:#24292E;">        preparedStatement.</span><span style="color:#6F42C1;">executeUpdate</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        preparedStatement </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> connection.</span><span style="color:#6F42C1;">prepareStatement</span><span style="color:#24292E;">(sql2);</span></span>
<span class="line"><span style="color:#24292E;">        preparedStatement.</span><span style="color:#6F42C1;">executeUpdate</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//业务完毕,提交事务</span></span>
<span class="line"><span style="color:#24292E;">        connection.</span><span style="color:#6F42C1;">commit</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//释放资源</span></span>
<span class="line"><span style="color:#24292E;">        JDBCUtils.</span><span style="color:#6F42C1;">release</span><span style="color:#24292E;">(connection, preparedStatement, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>运行结果： <img src="https://img-blog.csdnimg.cn/img_convert/61f641ba421658f8bcb574751954b9d4.png" alt="image-20210414235836300"> 如果两次更新之间加<code>int x = 1 / 0</code>;</p><p>则会报错，且事务执行失败，两条语句都不会执行成功 <img src="https://img-blog.csdnimg.cn/img_convert/0db32304bfc44277ce777d5b68aedccd.png" alt="image-20210327212324221"></p><p><img src="https://bangwu.oss-cn-shanghai.aliyuncs.com/img/202306182142257.png" alt="image-20230618214249123"></p></div></div></main><footer class="VPDocFooter" data-v-214d2813 data-v-e0fe8392><!--[--><!--]--><div class="edit-info" data-v-e0fe8392><div class="edit-link" data-v-e0fe8392><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/markbang/markbang.github.io/edit/main/docs/code/后端/数据库/MySQL/Mysql基础语法.md" target="_blank" rel="noreferrer" data-v-e0fe8392><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-e0fe8392><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 给出修改建议<!--]--></a></div><div class="last-updated" data-v-e0fe8392><p class="VPLastUpdated" data-v-e0fe8392 data-v-ae905298>Last updated: <time datetime="2023-11-15T15:21:37.000Z" data-v-ae905298></time></p></div></div><nav class="prev-next" data-v-e0fe8392><div class="pager" data-v-e0fe8392><!----></div><div class="pager" data-v-e0fe8392><a class="pager-link next" href="/code/%E5%90%8E%E7%AB%AF/MySQL/Mysql%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html" data-v-e0fe8392><span class="desc" data-v-e0fe8392>Next page</span><span class="title" data-v-e0fe8392>基础语法</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-ead8783a data-v-bb29db5c><div class="container" data-v-bb29db5c><p class="message" data-v-bb29db5c><a href="https://beian.miit.gov.cn/#/Integrated/recordQuery">皖ICP备2023007339号-1</a></p><p class="copyright" data-v-bb29db5c>Copyright © 2019-present <a href="https://github.com/yyx990803">Evan you</a></p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about_index.md\":\"3eab3c8b\",\"about_学科期末复习_管理信息系统.md\":\"722a5f9b\",\"about_学科期末复习_系统分析与设计.md\":\"8b53dbae\",\"about_学科期末复习_信息管理概论.md\":\"d156eb45\",\"about_author.md\":\"e9b097d5\",\"code_index.md\":\"04dbba52\",\"about_site.md\":\"232b741a\",\"code_前端_tailwindcss_index.md\":\"0c8f892e\",\"code_后端_go_index.md\":\"c70a3851\",\"code_前端_vue_index.md\":\"061cff70\",\"code_后端_python_python常用库_index.md\":\"53aba3ca\",\"about_学科期末复习_宏观经济学.md\":\"74b97e5a\",\"code_后端_python_python常用库_pyautogui脚本.md\":\"494607c2\",\"code_后端_python_fastapi_index.md\":\"bca140d4\",\"code_后端_python_python所实现的一些奇怪算法_奇妙解题系列.md\":\"e1ea3b34\",\"code_后端_python_index.md\":\"1540663f\",\"code_后端_python_python所实现的一些奇怪算法_简便写法系列.md\":\"2f8ab730\",\"code_后端_python_爬虫_内容提取方法_2、xpath方法.md\":\"092d5fa0\",\"code_后端_python_爬虫_内容提取方法_1、正则表达式提取.md\":\"8804cf8a\",\"code_后端_python_爬虫_index.md\":\"39b6aaa2\",\"code_后端_python_爬虫_内容提取方法_3、bs4方法.md\":\"e5d31213\",\"code_后端_python_爬虫_反反爬机制_1、添加headers.md\":\"1f726177\",\"code_后端_python_python所实现的一些奇怪算法_index.md\":\"4f4d9863\",\"code_后端_python_爬虫_实例分析_ecnu.md\":\"8ce0e8e2\",\"about_学科期末复习_信息分析.md\":\"7aeeb49b\",\"environment_jupyter生态使用_jupyter notebook.md\":\"b491dc76\",\"code_后端_python_python常用库_对第三方库的一些看法.md\":\"8de99451\",\"environment_cdn日记.md\":\"8b04d278\",\"environment_index.md\":\"32f9103b\",\"code_后端_数据库_mysql_数据库知识点.md\":\"a4946527\",\"environment_博客搭建_vitepress_初始模板.md\":\"87658d00\",\"code_前端_小程序开发_index.md\":\"89c0522b\",\"yrzx_index.md\":\"28e2cf2d\",\"software_sharex.md\":\"3088a05a\",\"software_apifox.md\":\"41df260d\",\"code_后端_数据库_index.md\":\"3696660c\",\"code_后端_python_爬虫_实例分析_index.md\":\"9ba542fb\",\"code_算法_index.md\":\"ecd57601\",\"code_后端_python_爬虫_多线程、进程，异步协同_线程、进程、异步协同介绍.md\":\"1cf3762e\",\"environment_jupyter生态使用_jupyter lite.md\":\"e5cdf92d\",\"code_后端_python_爬虫_实例分析_豆瓣referer.md\":\"10f36aef\",\"code_后端_python_爬虫_反反爬机制_5、验证码识别.md\":\"df30d7c3\",\"index.md\":\"92cf04d8\",\"code_后端_python_爬虫_实例分析_北京新发地ajax.md\":\"56ce447b\",\"code_后端_python_爬虫_反反爬机制_4、对数据进行加密.md\":\"a5dbf122\",\"code_后端_python_爬虫_反反爬机制_2、ajax动态.md\":\"78cab4e0\",\"software_index.md\":\"e857e6f2\",\"code_后端_python_爬虫_反反爬机制_3、ip切换.md\":\"6c009eae\",\"code_后端_python_爬虫_反反爬机制_6、javascript逆向.md\":\"1505e47b\",\"about_学科期末复习_电子商务.md\":\"1b0a3b81\",\"code_后端_python_python常用库_wordcloud词云.md\":\"5988bbed\",\"code_后端_python_爬虫_多线程、进程，异步协同_多线程格式.md\":\"a616c0ce\",\"code_后端_python_爬虫_多线程、进程，异步协同_多进程格式.md\":\"80900d0d\",\"code_后端_index.md\":\"2b71d68f\",\"software_typora.md\":\"90acde61\",\"environment_web ide_index.md\":\"a691672a\",\"about_学科期末复习_数据仓库.md\":\"052c3594\",\"code_后端_python_爬虫_多线程、进程，异步协同_异步协同格式.md\":\"a6c9c983\",\"code_test.md\":\"de16da92\",\"code_后端_python_python常用库_python笔记.md\":\"7a6816fd\",\"environment_jupyter生态使用_jupyter lab.md\":\"24e36450\",\"environment_博客搭建_图床方案.md\":\"041f83af\",\"code_后端_python_python所实现的一些奇怪算法_优化内存系列.md\":\"8ff3311c\",\"code_前端_index.md\":\"b1fdc7c2\",\"software_markdown语法.md\":\"63e59aed\",\"about_学科期末复习_宏观经济学2.md\":\"e8c0c27f\",\"code_后端_python_python常用库_matplotlib(绘图).md\":\"4414f2f2\",\"code_后端_数据库_mysql_index.md\":\"22fe42a0\",\"code_后端_数据库_mysql_mysql基础语法.md\":\"aaaae7eb\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"🤡😡\",\"description\":\"一个小白友好的教程网站\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTItle\":\"🤡😡\",\"logo\":\"/site.png\",\"footer\":{\"message\":\"<a href=\\\"https://beian.miit.gov.cn/#/Integrated/recordQuery\\\">皖ICP备2023007339号-1</a>\",\"copyright\":\"Copyright © 2019-present <a href=\\\"https://github.com/yyx990803\\\">Evan you</a>\"},\"search\":{\"provider\":\"local\"},\"lastUpdatedtext\":\"上次更新\",\"editLink\":{\"pattern\":\"https://github.com/markbang/markbang.github.io/edit/main/docs/:path\",\"text\":\"给出修改建议\"},\"nav\":[{\"text\":\"首页\",\"link\":\"index\"},{\"text\":\"软件\",\"link\":\"/software/\"},{\"text\":\"环境\",\"link\":\"/environment/\"},{\"text\":\"编程手册\",\"items\":[{\"items\":[{\"text\":\"前端\",\"link\":\"/code/前端/\"},{\"text\":\"后端\",\"link\":\"/code/后端/\"},{\"text\":\"算法\",\"link\":\"/code/算法/\"}]},{\"items\":[{\"text\":\"其他\",\"link\":\"/code/\"}]}]},{\"text\":\"一人之下\",\"link\":\"/yrzx/\"},{\"text\":\"关于\",\"items\":[{\"items\":[{\"text\":\"关于本站\",\"link\":\"/about/site\"}]},{\"items\":[{\"text\":\"关于作者\",\"link\":\"/about/author\"}]}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/markbang\"},{\"icon\":{\"svg\":\"<svg t=\\\"1695392630717\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1242 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"5198\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M623.55768887-34.13333333c-301.68533333 0-546.13333333 244.448-546.13333333 546.13333333s244.448 546.13333333 546.13333333 546.13333333 546.13333333-244.448 546.13333334-546.13333333-244.44693333-546.13333333-546.13333334-546.13333333zM472.38542221 689.42933334h249.94026666c43.50613333 0 78.88213333-35.26506667 78.88213334-78.88106667v-13.07413335c0-14.50239999-11.75466668-26.368-26.368-26.368H590.70968887a26.30400001 26.30400001 0 0 1-26.368-26.36693332v-65.69813333a26.30400001 26.30400001 0 0 1 26.368-26.368h302.45546667c14.50239999 0 26.368 11.75573333 26.368 26.368v151.17226666c0 98.1088-79.54133333 177.54026666-177.54133333 177.54026667H353.95235554c-14.50239999 0-26.368-11.75466668-26.368-26.368V413.344c0-108.87573333 88.33066667-197.2064 197.20533333-197.2064h368.37333334a26.30400001 26.30400001 0 0 1 26.368 26.368l-0.10986667 65.69813333a26.30400001 26.30400001 0 0 1-26.368 26.368H524.90168887c-43.50613333 0-78.88213333 35.26506667-78.88213333 78.88106666v249.8304c0 14.39253333 11.75466668 26.14826667 26.36693333 26.14826668z\\\" p-id=\\\"5199\\\"></path></svg>\"},\"link\":\"https://gitee.com/bang-wu\"},{\"icon\":{\"svg\":\"<svg t=\\\"1695391570251\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"4216\\\" data-spm-anchor-id=\\\"a313x.search_index.0.i3.36cd3a81cjRuXJ\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M851.40363594 172.59636406c-187.46181844-187.46181844-491.34545437-187.46181844-678.80727188 0-187.46181844 187.46181844-187.46181844 491.34545437 0 678.80727188 187.46181844 187.46181844 491.34545437 187.46181844 678.80727188 0 187.46181844-187.46181844 187.46181844-491.34545437 0-678.80727188zM387.33090875 728.08727281a47.08363594 47.08363594 0 1 1-66.63272719-66.50181843 47.08363594 47.08363594 0 0 1 66.63272719 66.50181843z m205.52727281 1.39636313a38.74909125 38.74909125 0 0 1-76.62545437-11.52h-0.04363594a6.54545437 6.54545437 0 0 0-0.04363688 0.30545531v-0.34909125c0.30545438-2.61818156 2.05090875-20.72727281-2.96727281-44.98909125a174.24 174.24 0 0 0-48.56727281-89.28 172.10181844 172.10181844 0 0 0-88.8-48.30545438 156.69818156 156.69818156 0 0 0-42.45818156-2.92363593 38.66181844 38.66181844 0 0 1-35.38909125-65.32363688 38.61818156 38.61818156 0 0 1 21.12-10.8218175v-0.2181825c4.45090875-0.74181844 111.14181844-16.45090875 200.33454562 72.74181844 89.01818156 89.01818156 74.18181844 196.14545438 73.44 200.72727281z m175.2 7.59272812a38.74909125 38.74909125 0 0 1-65.67272719 21.3818175 39.49090875 39.49090875 0 0 1-11.65090875-33.73090875c0.08727281-0.34909125 5.10545437-37.48363594-5.06181843-88.97454562-13.30909125-67.37454562-45.29454563-126.89454563-94.95272719-176.90181844-50.00727281-49.70181844-109.52727281-81.64363594-176.94545438-94.95272719-51.49090875-10.16727281-88.58181844-5.19272719-89.01818156-5.14909031h0.21818156-0.04363687a39.92727281 39.92727281 0 0 1-44.68363594-32.90181844 38.83636406 38.83636406 0 0 1 32.20363594-44.37818156c1.92-0.30545438 47.86909125-7.33090875 111.27272719 4.36363594a411.75272719 411.75272719 0 0 1 106.25454562 34.95272718 425.76 425.76 0 0 1 114.63272719 82.25454563l0.91636406 0.96 0.96 0.87272719a425.89090875 425.89090875 0 0 1 82.25454563 114.72c16.40727281 33.6 28.14545437 69.29454562 34.99636312 106.21090875 11.65090875 63.40363594 4.66909125 109.35272719 4.32 111.27272812z\\\" fill=\\\"#515151\\\" p-id=\\\"4217\\\" data-spm-anchor-id=\\\"a313x.search_index.0.i1.36cd3a81cjRuXJ\\\"></path></svg>\"},\"link\":\"https://www.cnblogs.com/bangwu/\"}],\"sidebar\":{\"/software/\":[{\"text\":\"推荐软件\",\"items\":[{\"text\":\"Typora(写MarkDown)\",\"link\":\"/software/Typora\"},{\"text\":\"WattToolkit\",\"link\":\"/software/WattToolkit\"}]},{\"text\":\"一些好玩的软件\",\"items\":[{\"text\":\"未知\",\"link\":\"/software/未知\"}]}],\"/environment/\":[{\"text\":\"Jupyter生态使用\",\"items\":[{\"text\":\"Jupyter Notebook\",\"link\":\"/environment/Jupyter生态使用/Jupyter Notebook\"},{\"text\":\"Jupyter Lab\",\"link\":\"/environment/Jupyter生态使用/Jupyter Lab\"},{\"text\":\"Jupyter Lite\",\"link\":\"/environment/Jupyter生态使用/Jupyter Lite\"}]},{\"text\":\"博客搭建\",\"items\":[{\"text\":\"vitepress\",\"link\":\"/environment/博客搭建/vitepress\"},{\"text\":\"wordpress\",\"link\":\"/environment/博客搭建/wordpress\"}]},{\"text\":\"各种环境配置\",\"items\":[{\"text\":\"未知\",\"link\":\"\"}]}],\"/code/后端/Python/\":[{\"text\":\"Python\",\"items\":[{\"text\":\"爬虫\",\"link\":\"/code/后端/Python/爬虫/\"},{\"text\":\"Python常用库\",\"link\":\"/code/后端/Python/Python常用库/\"},{\"text\":\"Python语法or算法\",\"link\":\"/code/后端/Python/Python所实现的一些奇怪算法/\"},{\"text\":\"FastAPI\",\"link\":\"/code/后端/Python/FastAPI/\"}]}],\"/code/后端/数据库/MySQL/\":[{\"text\":\"基础语法\",\"link\":\"/code/后端/MySQL/Mysql基础语法\"}],\"/code/前端/小程序开发/\":[{\"text\":\"未知\",\"link\":\"\"}],\"/code/前端/\":[{\"text\":\"Vue\",\"link\":\"/code/前端/Vue/\"},{\"text\":\"TailwindCSS\",\"link\":\"/code/前端/TailwindCSS/\"},{\"text\":\"小程序\",\"link\":\"/code/前端/小程序开发/\"}],\"/code/算法/\":[{\"text\":\"未知\",\"link\":\"\"}],\"/code/后端/\":[{\"text\":\"Python\",\"link\":\"/code/后端/Python/\"},{\"text\":\"数据库\",\"link\":\"/code/后端/数据库/\"},{\"text\":\"GoLang\",\"link\":\"/code/后端/Go/\"}],\"/code/后端/Python/FastAPI/\":[{\"text\":\"介绍\"}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>